<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Beniah.games — Indie Game Dev</title>
  <meta name="description" content="Indie game developer from Belgium making quirky, funny, endlessly fun games." />
  <link rel="icon" href="assets/Beniah.Games.Icon.png" type="image/png" />
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
  <style>
    :root{
      --bg:#0d0e10; --panel:#14161b; --panel-2:#1a1d24; --text:#e9eef6; --muted:#a8b0bd;
      --accent:#ffcc00; --accent-2:#ffd84d; --link:#ffcc00; --border:#242834;
      --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Arial,sans-serif;
      background:var(--bg);color:var(--text);
      position:relative; z-index:0; /* for parallax layering */
    }

    /* --- PARALLAX BACKGROUND (scroll-driven + twinkle) --- */
    .parallax{
      position:fixed; 
      top:0; left:0; right:0; 
      height:100vh; /* Use initial viewport height */
      min-height:100vh; /* Ensure minimum height */
      overflow:hidden; 
      z-index:-1;
    }
    
    /* Prevent mobile browser bar resize issues */
    @supports (height: 100dvh) {
      .parallax {
        height: 100dvh; /* Use dynamic viewport height if supported */
        min-height: 100dvh;
      }
    }
    .layer{
      position:absolute; background-repeat:repeat;
      will-change:transform, opacity;
      /* Make layers larger to account for parallax movement */
      top:-20%; left:-10%; right:-10%; bottom:-20%;
    }
    .layer-back{
      background:url('/assets/parallax-back.png') no-repeat center center;
      background-size:cover;
      opacity:.3;
    }
    .layer-mid{
      background:url('/assets/parallax-mid.png') repeat;
      background-size:96px 96px;
      opacity:.5;
    }
    .layer-front{
      background:url('/assets/parallax-front.png') repeat;
      background-size:64px 64px;
      opacity:.8;
    }

    /* Epic Hero Title Styling */
    .hero-title-container {
      position: relative;
      display: inline-block;
      overflow: hidden;
    }
    
    h1.glow {
      background: linear-gradient(
        45deg,
        #ffcc00,
        #ffd84d,
        #ff6b35,
        #ff9500,
        #ffcc00
      );
      background-size: 400% 400%;
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientShift 3s ease-in-out infinite,
                 epicGlow 4s ease-in-out infinite,
                 subtleFloat 6s ease-in-out infinite;
      position: relative;
      z-index: 2;
      font-weight: 900;
      letter-spacing: -0.02em;
    }
    
    /* Fallback for browsers that don't support background-clip */
    @supports not (-webkit-background-clip: text) {
      h1.glow {
        color: var(--accent);
        -webkit-text-fill-color: unset;
      }
    }
    
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    @keyframes epicGlow {
      0%, 100% {
        filter: drop-shadow(0 0 8px rgba(255, 204, 0, 0.3))
                drop-shadow(0 0 16px rgba(255, 204, 0, 0.2))
                drop-shadow(0 0 24px rgba(255, 204, 0, 0.1));
      }
      50% {
        filter: drop-shadow(0 0 16px rgba(255, 204, 0, 0.8))
                drop-shadow(0 0 32px rgba(255, 204, 0, 0.6))
                drop-shadow(0 0 48px rgba(255, 107, 53, 0.4))
                drop-shadow(0 0 64px rgba(255, 149, 0, 0.3));
      }
    }
    
    @keyframes subtleFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-3px); }
    }
    
    /* Glitch Effect */
    h1.glow::before,
    h1.glow::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, #ff0080, #00ff80);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      opacity: 0;
      z-index: -1;
    }
    
    h1.glow::before {
      animation: glitch1 8s infinite;
      transform: translateX(-2px);
    }
    
    h1.glow::after {
      animation: glitch2 8s infinite;
      transform: translateX(2px);
    }
    
    @keyframes glitch1 {
      0%, 90%, 100% { opacity: 0; }
      91%, 99% { opacity: 0.1; }
    }
    
    @keyframes glitch2 {
      0%, 85%, 100% { opacity: 0; }
      86%, 94% { opacity: 0.08; }
    }
    
    /* Particle Background */
    .hero-particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    
    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0;
      animation: particleFloat 8s infinite linear;
    }
    
    .particle:nth-child(odd) {
      background: #ff6b35;
      animation-duration: 12s;
    }
    
    .particle:nth-child(3n) {
      background: #ffd84d;
      animation-duration: 10s;
    }
    
    @keyframes particleFloat {
      0% {
        transform: translateY(100vh) translateX(0) scale(0);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) translateX(100px) scale(1);
        opacity: 0;
      }
    }
    
    /* Typing Effect */
    .typing-text {
      overflow: hidden;
      white-space: nowrap;
      animation: typing 4s steps(40, end) 1s both;
    }
    
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    
    /* Enhanced scanlines for hero */
    .hero.scanlines::before {
      background: repeating-linear-gradient(
        to bottom,
        rgba(255, 204, 0, 0.02),
        rgba(255, 204, 0, 0.02) 1px,
        transparent 3px,
        transparent 6px
      );
    }

    /* Buttons */
    .btn{display:inline-block;padding:.6rem .9rem;border:1px solid var(--border);border-radius:10px;background:var(--panel);color:var(--text);text-decoration:none;cursor:pointer;transition:.25s}
    .btn:hover{background:var(--panel-2);border-color:var(--accent);box-shadow:0 0 0 3px rgba(255,204,0,.15)}
    .btn-secondary{display:inline-block;padding:.5rem .8rem;border:1px solid var(--border);border-radius:8px;background:var(--panel);color:var(--muted);font-size:.85rem;cursor:pointer;transition:.25s}
    .btn-secondary:hover{background:var(--panel-2);color:var(--text);border-color:var(--accent)}
    .btn-discord{
      display:inline-flex;align-items:center;gap:.5rem;background:var(--accent);color:#111;
      font-weight:700;padding:.6rem 1rem;border-radius:12px;text-decoration:none;
      transition:transform .15s ease, box-shadow .2s ease;
    }
    .btn-discord:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(255,204,0,.4)}
    .btn-discord svg{width:20px;height:20px;fill:currentColor}

    /* Contact Form */
    .contact-form{max-width:600px;margin:2rem 0}
    .form-group{margin-bottom:1.5rem}
    .form-group label{display:block;margin-bottom:.5rem;color:var(--text);font-weight:500}
    .form-group input,.form-group textarea{
      width:100%;padding:.75rem;border:1px solid var(--border);border-radius:8px;
      background:var(--panel);color:var(--text);font-family:inherit;font-size:.9rem;
      transition:border-color .25s,box-shadow .25s;
    }
    .form-group input:focus,.form-group textarea:focus{
      outline:none;border-color:var(--accent);
      box-shadow:0 0 0 3px rgba(255,204,0,.1);
    }
    .form-group textarea{resize:vertical;min-height:120px}
    .form-status{margin-top:1rem;padding:.75rem;border-radius:8px;font-size:.9rem}
    .form-status.success{background:rgba(34,197,94,.1);border:1px solid rgba(34,197,94,.3);color:#22c55e}
    .form-status.error{background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);color:#ef4444}

    /* Sticky Nav */
    .nav{position:sticky;top:0;z-index:40;backdrop-filter:saturate(140%) blur(6px);
      background:linear-gradient(180deg,rgba(13,14,16,.85),rgba(13,14,16,.65));border-bottom:1px solid var(--accent)}
    .nav-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:.65rem 1rem}
    .brand{display:flex;gap:.6rem;align-items:center;font-weight:700}
    .brand .dot{width:.8rem;height:.8rem;border-radius:50%;background:var(--accent)}
    .brand a{color:var(--text);text-decoration:none}
    .nav-links{display:flex;gap:1rem;align-items:center}
    .nav-links a{color:var(--text);text-decoration:none;opacity:.9;position:relative}
    .nav-links a:hover{opacity:1}
    .nav-links a::after{content:"";position:absolute;left:0;right:0;bottom:-4px;height:2px;background:var(--accent);transform:scaleX(0);transform-origin:left;transition:transform .25s}
    .nav-links a:hover::after{transform:scaleX(1)}

    /* User Menu */
    .user-menu{position:relative;display:inline-block}
    .user-link{
      color:var(--text);text-decoration:none;opacity:.9;position:relative;
    }
    .user-link:hover{opacity:1}
    .user-link::after{
      content:"";position:absolute;left:0;right:0;bottom:-4px;height:2px;
      background:var(--accent);transform:scaleX(0);transform-origin:left;
      transition:transform .25s;
    }
    .user-link:hover::after{transform:scaleX(1)}
    .user-dropdown{
      position:absolute;top:100%;right:0;margin-top:.5rem;
      background:var(--panel);border:1px solid var(--border);border-radius:10px;
      box-shadow:var(--shadow);min-width:120px;opacity:0;visibility:hidden;
      transform:translateY(-8px);transition:all .25s ease;z-index:1000;
    }
    .user-menu:hover .user-dropdown{
      opacity:1;visibility:visible;transform:translateY(0);
    }
    .user-dropdown a{
      display:block;padding:.75rem 1rem;color:var(--text);
      text-decoration:none;transition:background .2s;
      border-bottom:1px solid var(--border);
    }
    .user-dropdown a:last-child{border-bottom:none}
    .user-dropdown a:hover{background:rgba(255,204,0,.1)}

    /* Language Dropdown */
    .language-selector{position:relative;display:inline-block}
    .language-btn{
      display:flex;align-items:center;gap:.4rem;padding:.5rem .7rem;
      border:1px solid var(--border);border-radius:8px;background:transparent;
      color:var(--text);cursor:pointer;font-size:.85rem;transition:.2s;
    }
    .language-btn:hover{border-color:var(--accent);background:rgba(255,204,0,.05)}
    .language-dropdown{
      position:absolute;top:100%;right:0;margin-top:.25rem;
      background:var(--panel);border:1px solid var(--border);border-radius:10px;
      box-shadow:var(--shadow);min-width:140px;opacity:0;visibility:hidden;
      transform:translateY(-8px);transition:all .25s ease;z-index:1000;
    }
    .language-dropdown.show{
      opacity:1 !important;
      visibility:visible !important;
      transform:translateY(0) !important;
      display:block !important;
    }
    .language-option{
      display:flex;align-items:center;gap:.6rem;padding:.6rem .8rem;
      color:var(--text);text-decoration:none;font-size:.85rem;
      border-bottom:1px solid var(--border);transition:.2s;
    }
    .language-option:last-child{border-bottom:none}
    .language-option:hover{background:rgba(255,204,0,.08);color:var(--accent)}
    .language-option.active{background:rgba(255,204,0,.12);color:var(--accent)}
    .flag{font-size:1.1em}
    @media(max-width:820px){
      .language-selector{margin-left:auto}
      .language-dropdown{right:0;left:auto}
    }

    /* Volume Control */
    .volume-control{position:relative;display:flex;align-items:center}
    .volume-btn{
      display:flex;align-items:center;justify-content:center;
      width:40px;height:40px;border:1px solid var(--border);
      border-radius:8px;background:transparent;color:var(--text);
      cursor:pointer;transition:all .2s ease;
    }
    .volume-btn:hover{border-color:var(--accent);background:rgba(255,204,0,.05)}
    .volume-btn.muted{opacity:0.5}
    .volume-icon{width:20px;height:20px;fill:currentColor}
    .volume-slider-container{
      position:absolute;top:100%;right:0;margin-top:.5rem;
      background:var(--panel);border:1px solid var(--border);
      border-radius:10px;box-shadow:var(--shadow);padding:1rem;
      min-width:200px;opacity:0;visibility:hidden;
      transform:translateY(-8px);transition:all .25s ease;z-index:1000;
    }
    .volume-slider-container.show{
      opacity:1;visibility:visible;transform:translateY(0);
    }
    .volume-slider{
      width:100%;height:4px;border-radius:2px;
      background:var(--border);outline:none;cursor:pointer;
      -webkit-appearance:none;appearance:none;
    }
    .volume-slider::-webkit-slider-thumb{
      -webkit-appearance:none;appearance:none;
      width:16px;height:16px;border-radius:50%;
      background:var(--accent);cursor:pointer;
      box-shadow:0 2px 6px rgba(0,0,0,.2);
    }
    .volume-slider::-moz-range-thumb{
      width:16px;height:16px;border-radius:50%;
      background:var(--accent);cursor:pointer;
      border:none;box-shadow:0 2px 6px rgba(0,0,0,.2);
    }
    .volume-percentage{
      text-align:center;margin-top:.5rem;
      font-size:.85rem;color:var(--text-secondary);
    }
    @media(max-width:820px){
      .volume-control{
        position:relative;
        display:flex;
        align-items:center;
      }
      .volume-btn{
        padding:12px;
        min-width:44px;
        min-height:44px;
        display:flex;
        align-items:center;
        justify-content:center;
      }
      .volume-slider-container{
        position:absolute;
        top:100%;
        right:0;
        background:var(--bg-secondary);
        border:1px solid var(--border);
        border-radius:8px;
        padding:1rem;
        box-shadow:0 4px 12px rgba(0,0,0,.15);
        min-width:200px;
        z-index:1000;
        transform:translateY(8px);
        opacity:0;
        visibility:hidden;
        transition:all .2s ease;
      }
      .volume-slider-container.show{
        opacity:1;
        visibility:visible;
        transform:translateY(4px);
      }
      .volume-slider{
        width:100%;
        height:6px;
        margin:.5rem 0;
      }
      .volume-slider::-webkit-slider-thumb{
        width:20px;
        height:20px;
      }
      .volume-slider::-moz-range-thumb{
        width:20px;
        height:20px;
      }
    }

    /* User Controls + Hamburger + Mobile Panel (slide + shadow + stagger) */
    .user-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .user-icon-container {
      position: relative;
      display: inline-block;
    }

    .user-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 42px;
      height: 42px;
      border: 1px solid var(--accent);
      border-radius: 10px;
      cursor: pointer;
      background: transparent;
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    
    .user-icon:hover {
      background-color: rgba(255, 204, 0, 0.1);
      border-color: var(--accent-2);
    }
    
    .user-icon svg {
      width: 20px;
      height: 20px;
      fill: var(--accent);
      transition: fill 0.3s ease;
    }
    
    .user-icon:hover svg {
      fill: var(--accent-2);
    }

    .user-icon-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid var(--accent);
      border-radius: 10px;
      min-width: 120px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      margin-top: 8px;
      overflow: hidden;
    }

    .user-icon-dropdown a {
      display: block;
      padding: 12px 16px;
      color: var(--accent);
      text-decoration: none;
      transition: background-color 0.3s ease, color 0.3s ease;
      font-size: 14px;
      border-bottom: 1px solid rgba(255, 204, 0, 0.1);
    }

    .user-icon-dropdown a:last-child {
      border-bottom: none;
    }

    .user-icon-dropdown a:hover {
      background: rgba(255, 204, 0, 0.1);
      color: var(--accent-2);
    }
    
    .hamburger{display:none;flex-direction:column;gap:.45rem;align-items:center;justify-content:center;width:42px;height:42px;border:1px solid var(--accent);border-radius:10px;cursor:pointer;background:transparent}
    .hamburger span{width:20px;height:2px;background:var(--accent);transition:.25s}
    .hamburger[aria-expanded="true"] span:nth-child(1){transform:translateY(6px) rotate(45deg)}
    .hamburger[aria-expanded="true"] span:nth-child(2){opacity:0}
    .hamburger[aria-expanded="true"] span:nth-child(3){transform:translateY(-6px) rotate(-45deg)}
    /* Always show hamburger and hide desktop nav links */
    .nav-links > a{display:none}
    .hamburger{display:flex}
    
    /* Keep other nav-links elements visible (language, volume, Discord) but hide desktop Spotify */
    .nav-links .language-selector,
    .nav-links .volume-control,
    .nav-links .btn-discord {
      display: flex;
    }
    
    @media(max-width:768px){
      .nav-links{display:none} /* Hide nav-links on mobile */
      .nav-links > a{display:none}
      .hamburger{display:flex}
      .nav-inner{padding:.5rem 1rem}
      /* Hide desktop Spotify widget in navigation on mobile */
      .nav-links .now-playing.desktop-only{display:none !important}
      
      /* Make Discord button icon-only on mobile */
      .btn-discord {
        display: flex !important;
        align-items: center;
        padding: 0.5rem;
        min-width: auto;
      }
      
      .btn-discord svg {
        width: 20px;
        height: 20px;
        margin: 0;
      }
      
      /* Hide Discord button text on mobile */
      .btn-discord {
        font-size: 0;
      }
    }
    .menu-panel{
      position:absolute;top:100%;left:0;right:0;background:rgba(13,14,16,.97);border-bottom:1px solid var(--border);
      transform-origin:top;transform:scaleY(0);opacity:0;pointer-events:none;
      transition:transform .28s ease,opacity .22s ease,box-shadow .28s ease;box-shadow:0 0 0 rgba(0,0,0,0);
      z-index: 999; /* ensure it appears above the nav */
    }
    .menu-panel.open{transform:scaleY(1);opacity:1;pointer-events:auto;box-shadow:0 8px 20px rgba(0,0,0,.45)}
    .menu-panel-inner{max-width:1100px;margin:0 auto;padding:.75rem 1rem;display:grid;gap:.5rem}
    .menu-panel a{
      position:relative;color:var(--text);text-decoration:none;padding:.6rem .2rem;border-radius:8px;
      opacity:0;transform:translateY(-6px);transition:opacity .28s ease, transform .32s ease, background .2s ease;
    }
    .menu-panel a:hover{background:#171a21}
    .menu-panel a::after{content:"";position:absolute;left:0;right:0;bottom:4px;height:2px;background:var(--accent);transform:scaleX(0);transform-origin:left;transition:transform .25s}
    .menu-panel a:hover::after{transform:scaleX(1)}
    .menu-panel.open .menu-panel-inner a:nth-child(1){opacity:1;transform:none;transition-delay:40ms}
    .menu-panel.open .menu-panel-inner a:nth-child(2){opacity:1;transform:none;transition-delay:90ms}
    .menu-panel.open .menu-panel-inner a:nth-child(3){opacity:1;transform:none;transition-delay:140ms}
    .menu-panel.open .menu-panel-inner a:nth-child(4){opacity:1;transform:none;transition-delay:190ms}
    .menu-panel.open .menu-panel-inner a:nth-child(5){opacity:1;transform:none;transition-delay:240ms}
    .menu-panel.open .menu-panel-inner a:nth-child(6){opacity:1;transform:none;transition-delay:290ms}
    .menu-panel.open .menu-panel-inner a:nth-child(7){opacity:1;transform:none;transition-delay:340ms}
    @media (prefers-reduced-motion:reduce){.menu-panel,.menu-panel a{transition:none !important;transform:none !important}}

    /* Spotify Now Playing */
    .now-playing{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:rgba(30,215,96,.1);border:1px solid rgba(30,215,96,.3);border-radius:8px;transition:all .3s ease}
    .now-playing:hover{background:rgba(30,215,96,.15);border-color:rgba(30,215,96,.5)}
    .np-art,.np-art-mobile{width:40px;height:40px;background:#333;border-radius:6px;flex-shrink:0;background-size:cover;background-position:center}
    .np-info,.np-info-mobile{flex:1;min-width:0;overflow:hidden}
    .np-title,.np-title-mobile{font-size:.85rem;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative}
    .np-artist,.np-artist-mobile{font-size:.75rem;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative}
    
    .np-link,.np-link-mobile{font-size:.7rem;color:#1db954;text-decoration:none;margin-top:.25rem;display:inline-block}
    .np-link:hover,.np-link-mobile:hover{text-decoration:underline}
    
    /* Scrolling text animation */
    @keyframes scroll-text {
      0% { transform: translateX(0); }
      20% { transform: translateX(0); }
      80% { transform: translateX(calc(var(--scroll-distance, -50px))); }
      100% { transform: translateX(calc(var(--scroll-distance, -50px))); }
    }
    
    .np-title.scrollable, .np-title-mobile.scrollable,
    .np-artist.scrollable, .np-artist-mobile.scrollable {
      position: relative;
    }
    
    .np-title.scrollable:hover, .np-title-mobile.scrollable:hover,
    .np-artist.scrollable:hover, .np-artist-mobile.scrollable:hover {
      color: transparent;
    }
    
    /* Create a wrapper for the full text that can scroll */
    .np-title.scrollable:hover::before, .np-title-mobile.scrollable:hover::before {
      content: attr(data-full-text);
      position: absolute;
      top: 0;
      left: 0;
      white-space: nowrap;
      animation: scroll-text 4s ease-in-out infinite;
      color: var(--text);
    }
    
    .np-artist.scrollable:hover::before, .np-artist-mobile.scrollable:hover::before {
      content: attr(data-full-text);
      position: absolute;
      top: 0;
      left: 0;
      white-space: nowrap;
      animation: scroll-text 4s ease-in-out infinite;
      color: var(--muted);
    }
    
    /* Desktop Now Playing */
    .now-playing.desktop-only{margin-left:1rem;max-width:200px}
    
    /* Mobile Now Playing */
    .now-playing.mobile-only{margin:1rem;background:rgba(30,215,96,.08);border:1px solid rgba(30,215,96,.2)}
    
    /* Responsive visibility */
    .desktop-only{display:flex}
    .mobile-only{display:none}
    @media (max-width:768px){
      .desktop-only{display:none}
      .mobile-only{display:flex}
    }

    /* Hero */
    header.hero{position:relative;overflow:hidden;isolation:isolate;background:
      radial-gradient(80% 60% at 70% 20%, rgba(255,204,0,.12), transparent 60%),
      linear-gradient(180deg,#101218 0%,#0d0e10 100%);border-bottom:1px solid var(--border)}
    .hero-inner{max-width:1100px;margin:0 auto;padding:5.5rem 1rem 4.5rem;display:grid;gap:1.5rem}
    .kicker{color:var(--muted);letter-spacing:.16em;text-transform:uppercase;font-size:.78rem}
    h1{margin:.2rem 0 0;font-size:clamp(2.2rem,5vw,3.5rem);line-height:1.05}
    .tag{color:var(--muted);max-width:60ch}
    .cta-row{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:1rem}
    .cta{background:var(--accent);color:#111;padding:.75rem 1rem;border-radius:12px;font-weight:700;text-decoration:none}
    .cta.secondary{background:transparent;border:1px solid var(--border);color:var(--text)}
    .scanlines::before,.scanlines::after{content:"";position:absolute;inset:-10%;background:repeating-linear-gradient(to bottom,rgba(255,255,255,.04),rgba(255,255,255,.04) 1px,transparent 3px,transparent 6px);mix-blend-mode:soft-light;animation:float 10s linear infinite;pointer-events:none}
    .scanlines::after{animation-duration:16s;opacity:.4}
    @keyframes float{0%{transform:translateY(0)}100%{transform:translateY(-30px)}}

    /* Sections */
    main{max-width:1100px;margin:0 auto;padding:2rem 1rem}
    section{margin:3rem 0}
    h2{margin:0 0 .75rem;font-size:1.6rem}
    .lead{color:var(--muted);max-width:65ch}

    /* Cards */
    .grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .card{
      background:linear-gradient(180deg,var(--panel),var(--panel-2));
      border:2px solid var(--accent);border-radius:14px;padding:1.1rem;box-shadow:var(--shadow);
      cursor:pointer;opacity:0;translate:0 14px;transition:.25s;filter:saturate(.95);
      align-self:start
    }
    .card.revealed{opacity:1;translate:0 0;transition:opacity .6s,translate .6s}
    .card:hover{transform:translateY(-4px)}
    .card h3{margin:.35rem 0;color:var(--accent)}
    .pill{display:inline-block;padding:.2rem .5rem;border:1px solid var(--border);border-radius:999px;color:var(--muted);font-size:.78rem}
    .chev{width:22px;height:22px;display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--border);border-radius:8px;transition:.35s}
    .card[aria-expanded="true"] .chev{transform:rotate(180deg);background:#191d25}
    .collapsible{overflow:hidden;max-height:0;opacity:0;transform:translateY(-4px) scale(.995);transition:max-height .55s cubic-bezier(.2,.7,.2,1),opacity .35s,transform .45s;border-top:1px dashed #2a3142;margin-top:.75rem;padding-top:.75rem}
    .card[aria-expanded="false"] > .collapsible{max-height:0!important;opacity:0!important;transform:translateY(-4px) scale(.995)!important}
    .card[aria-expanded="true"] > .collapsible{opacity:1;transform:translateY(0) scale(1);max-height:500px}
    .card.expanded > .collapsible{opacity:1!important;transform:translateY(0) scale(1)!important;max-height:500px!important}
    .preview figure{margin:0;background:#0e1015;border:1px solid var(--border);border-radius:10px;overflow:hidden}
    .preview img{display:block;width:100%;height:auto}
    
    /* Floor Game Card Background */
    #floor-game-card{
      position:relative;
      overflow:hidden;
    }
    #floor-game-card::before{
      content:'';
      position:absolute;
      top:0;
      right:0;
      bottom:0;
      width:60%;
      background:url('assets/Elevathor.png') no-repeat center right;
      background-size:contain;
      opacity:0.15;
      z-index:0;
      pointer-events:none;
      transition:opacity 0.3s ease;
    }
    #floor-game-card:hover::before{
      opacity:0.25;
    }
    #floor-game-card > *{
      position:relative;
      z-index:1;
    }

    /* Footer + Back to Top */
    footer{border-top:1px solid var(--accent);color:#98a1b3;text-align:center;padding:2rem 1rem;backdrop-filter:saturate(140%) blur(6px);background:linear-gradient(0deg,rgba(13,14,16,.85),rgba(13,14,16,.65))}
    #back-to-top{position:fixed;bottom:20px;right:20px;width:44px;height:44px;border-radius:50%;border:1px solid var(--border);background:rgba(20,22,27,.9);color:var(--accent);display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer;opacity:0;pointer-events:none;transition:opacity .3s,transform .3s;z-index:50}
    #back-to-top.show{opacity:1;pointer-events:auto;transform:translateY(0)}
    #back-to-top:hover{background:#191d25}
    #back-to-top::after{content:"Back to top";position:absolute;right:110%;top:50%;transform:translateY(-50%) scale(.9);background:#191d25;color:var(--text);font-size:.75rem;padding:.25rem .5rem;border-radius:6px;opacity:0;pointer-events:none;transition:opacity .25s,transform .25s;white-space:nowrap;border:1px solid var(--border)}
    #back-to-top:hover::after,#back-to-top:focus::after{opacity:1;transform:translateY(-50%) scale(1)}

    /* FAQ */
    .faq{display:grid;gap:.6rem;margin-top:1rem}
    .faq details{
      background:linear-gradient(180deg,var(--panel),var(--panel-2));
      border:1px solid var(--border);
      border-radius:12px;
      padding:.2rem .8rem;
      box-shadow:var(--shadow);
    }
    .faq summary{
      cursor:pointer;list-style:none;padding:.8rem 0;font-weight:700;color:var(--text);
      display:flex;align-items:center;justify-content:space-between;gap:.75rem;
    }
    .faq summary::-webkit-details-marker{display:none}
    .faq details > div{color:var(--muted);padding:0 0 .9rem;}
    .faq details[open]{border-color:var(--accent);}
    .faq details[open] summary{color:var(--accent);}

    /* Devlog Preview */
    .devlog-preview{margin-top:1rem;}
    .devlog-card-preview{
      background:linear-gradient(180deg,var(--panel),var(--panel-2));
      border:1px solid var(--accent);border-radius:12px;padding:1.5rem;
      transition:transform .2s,box-shadow .2s;
    }
    .devlog-card-preview:hover{transform:translateY(-2px);box-shadow:var(--shadow);}
    .devlog-meta-preview{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:.5rem;}
    .devlog-game-preview{
      background:var(--accent);color:var(--bg);padding:.5rem 1rem;
      border-radius:20px;font-size:.875rem;font-weight:600;
    }
    .devlog-date-preview{color:var(--muted);font-size:.875rem;}
    .devlog-title-preview{font-size:1.5rem;font-weight:600;margin:0 0 .75rem 0;line-height:1.3;}
    .devlog-title-preview a{color:var(--text);text-decoration:none;}
    .devlog-title-preview a:hover{color:var(--accent);}
    .devlog-excerpt-preview{color:var(--muted);margin:0 0 1rem 0;font-size:1.1rem;line-height:1.6;}
    .devlog-tags-preview{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem;}
    .devlog-tag-preview{
      background:var(--panel-2);color:var(--muted);padding:.25rem .75rem;
      border-radius:20px;font-size:.75rem;
    }
    .devlog-read-more{
      display:inline-flex;align-items:center;gap:.5rem;color:var(--accent);
      text-decoration:none;font-weight:500;transition:color .2s;
    }
    .devlog-read-more:hover{color:var(--accent-2);}

    /* Welcome Message Element */
    .welcome-element {
      position: fixed;
      top: 50%;
      right: 0;
      transform: translateY(-50%) translateX(calc(100% - 40px));
      z-index: 1000;
      display: flex;
      align-items: center;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .welcome-element.show {
      transform: translateY(-50%) translateX(0);
    }

    .welcome-trigger {
      width: 40px;
      height: 80px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      border: 2px solid var(--accent);
      border-right: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
      border-radius: 8px 0 0 8px;
      flex-shrink: 0;
    }

    .welcome-trigger:hover {
      background: linear-gradient(135deg, var(--accent-2), var(--accent));
      box-shadow: 0 10px 30px rgba(255, 204, 0, 0.2);
    }

    .welcome-trigger.faded {
      opacity: 0.4;
      transition: opacity 1s ease;
    }

    .welcome-trigger:not(.faded) {
      opacity: 1;
      transition: opacity 0.3s ease;
    }

    .welcome-message {
      background: linear-gradient(180deg, var(--panel), var(--panel-2));
      border: 2px solid var(--accent);
      border-left: 2px solid var(--accent);
      border-radius: 0 8px 8px 0;
      padding: 1rem;
      width: 280px;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
    }

    .welcome-content {
      width: 100%;
    }

    .welcome-content p {
      margin: 0 0 0.75rem 0;
      color: var(--text);
      font-size: 0.8rem;
      line-height: 1.4;
    }

    .welcome-content p:last-child {
      margin-bottom: 0;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: linear-gradient(135deg, var(--panel) 0%, var(--panel-2) 100%);
      margin: 8% auto;
      padding: 1.5rem;
      border: 1px solid var(--accent);
      border-radius: 15px;
      width: 85%;
      max-width: 420px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    .close {
      color: var(--muted);
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .close:hover {
      color: var(--accent);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--text);
      font-weight: 500;
    }

    .form-group input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: var(--bg);
      color: var(--text);
      font-size: 1rem;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .form-group input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(255, 204, 0, 0.1);
    }

    #signup-form button {
      width: 100%;
      padding: 0.75rem;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: var(--bg);
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    #signup-form button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
    }

    .message {
      margin-top: 1rem;
      padding: 0.75rem;
      border-radius: 8px;
      text-align: center;
      font-weight: 500;
      display: none;
    }

    .message.success {
      background: rgba(76, 175, 80, 0.1);
      color: #4CAF50;
      border: 1px solid #4CAF50;
    }

    .message.error {
      background: rgba(244, 67, 54, 0.1);
      color: #f44336;
      border: 1px solid #f44336;
    }

    .message.warning {
      background: rgba(255, 193, 7, 0.1);
      color: #ffc107;
      border: 1px solid #ffc107;
    }

    .username-feedback {
      margin-top: 0.5rem;
      padding: 0.5rem;
      border-radius: 4px;
      font-size: 0.875rem;
      font-weight: 500;
      display: none;
    }

    .username-feedback.available {
      background: rgba(76, 175, 80, 0.1);
      color: #4CAF50;
      border: 1px solid #4CAF50;
    }

    .username-feedback.taken {
      background: rgba(244, 67, 54, 0.1);
      color: #f44336;
      border: 1px solid #f44336;
    }

    .username-feedback.checking {
      background: rgba(33, 150, 243, 0.1);
      color: #2196F3;
      border: 1px solid #2196F3;
    }

    .captcha-container {
      margin: 1.5rem 0;
      display: flex;
      justify-content: center;
    }

    .h-captcha {
      transform: scale(0.9);
      transform-origin: center;
    }

    /* Auth tabs styling */
    .auth-tabs {
      display: flex;
      margin-bottom: 1.5rem;
      border-bottom: 1px solid var(--accent);
    }

    .tab-btn {
      flex: 1;
      padding: 0.75rem 1rem;
      background: transparent;
      border: none;
      color: var(--muted);
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: all 0.3s ease;
      border-bottom: 2px solid transparent;
    }

    .tab-btn:hover {
      color: var(--text);
      background: rgba(255, 255, 255, 0.05);
    }

    .tab-btn.active {
      color: var(--accent);
      border-bottom-color: var(--accent);
      background: rgba(255, 255, 255, 0.1);
    }

    /* Form container switching */
    .form-container {
      display: none;
    }

    .form-container.active {
      display: block;
    }

    /* Mobile adjustments */
    @media (max-width: 768px) {
      .welcome-element {
        transform: translateY(-50%) translateX(calc(100% - 35px));
      }
      
      .welcome-trigger {
        width: 35px;
        height: 70px;
        font-size: 1rem;
      }
      
      .welcome-message {
        width: 240px;
        padding: 0.8rem;
      }
      
      .welcome-content p {
        font-size: 0.75rem;
        margin-bottom: 0.5rem;
      }
    }

    /* Custom Scrollbar Styling */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--panel);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(45deg, var(--accent), var(--accent-2));
      border-radius: 10px;
      border: 1px solid var(--panel);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(45deg, var(--accent-2), #ffe066);
      box-shadow: 0 0 10px rgba(255, 204, 0, 0.3);
    }

    ::-webkit-scrollbar-corner {
      background: var(--panel);
    }

    /* Firefox scrollbar styling */
    html {
      scrollbar-width: thin;
      scrollbar-color: var(--accent) var(--panel);
    }

    /* Updated User Controls Layout */
    .user-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .user-controls .language-selector,
    .user-controls .volume-control {
      margin: 0;
    }

    /* Hide language selector */
    .language-selector {
      display: none !important;
    }
  </style>
</head>
<body>
  <!-- Welcome Message Element -->
  <div class="welcome-element" id="welcome-element">
    <button class="welcome-trigger" id="welcome-trigger" aria-label="Welcome message">
      <span>👋</span>
    </button>
    <div class="welcome-message" id="welcome-message">
      <div class="welcome-content">
        <p>Hey there, and welcome to my little corner of the web! Feel free to look around and enjoy your stay.</p>
        <p>Just a heads-up: the site's still a work in progress, so some info may change and a few things might not work as expected. If you do spot any bugs, I'd love to hear about them!</p>
      </div>
    </div>
  </div>

  <!-- Parallax layers -->
  <div class="parallax">
    <div class="layer layer-back"></div>
    <div class="layer layer-mid"></div>
    <div class="layer layer-front"></div>
  </div>

  <!-- Nav -->
  <nav class="nav" id="top">
    <div class="nav-inner">
      <div class="brand"><div class="dot"></div><a href="#top"><img src="assets/Beniah.Games.Logo.png" alt="Beniah.games" style="height: 48px; vertical-align: middle;"></a></div>

      <!-- Desktop -->
      <div class="nav-links">
        <a href="#about" data-translate="nav.about">About</a>
        <a href="#games" data-translate="nav.games">Games</a>
        <a href="devlogs/" data-translate="nav.devlogs">Devlogs</a>
        <a href="#contact" data-translate="nav.contact">Contact</a>
        <!-- Auth Button - transforms from signup to user menu when logged in -->
        <div class="user-menu" id="auth-button" style="display: none;">
          <div class="user-dropdown">
            <a href="/user/" data-translate="nav.profile">Profile</a>
            <a href="#" id="logout-btn" data-translate="nav.logout">Logout</a>
          </div>
        </div>
        
        <!-- Spotify Now Playing (Desktop) -->
        <div class="now-playing desktop-only" id="now-playing-desktop">
          <div class="np-art" id="np-art"></div>
          <div class="np-info">
            <div class="np-title" id="np-title" data-translate="spotify.not_playing">Not playing</div>
            <div class="np-artist" id="np-artist"></div>
            <a class="np-link" id="np-link" href="#" target="_blank" rel="noopener" style="display:none;" data-translate="spotify.listen">♪ Listen</a>
          </div>
        </div>
        

        
        <a class="btn-discord" href="https://discord.gg/PW6UZWtZ7C" target="_blank" rel="noopener" aria-label="Discord">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20.317 4.369a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.211.375-.445.865-.608 1.249a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.077.077 0 00.084-.027c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.104c-.652-.247-1.27-.55-1.845-.899a.077.077 0 01-.007-.127c.124-.093.248-.19.366-.287a.074.074 0 01.077-.01c3.869 1.776 8.065 1.776 11.896 0a.075.075 0 01.078.009c.118.098.242.195.366.288a.077.077 0 01-.006.127 12.298 12.298 0 01-1.846.898.077.077 0 00-.04.105c.36.698.772 1.364 1.225 1.994a.076.076 0 00.084.027 19.876 19.876 0 005.994-3.03.077.077 0 00.031-.056c.5-5.177-.838-9.673-3.548-13.66a.06.06 0 00-.031-.028zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.418 2.157-2.418 1.21 0 2.176 1.094 2.157 2.418 0 1.334-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.418 2.157-2.418 1.21 0 2.176 1.094 2.157 2.418 0 1.334-.947 2.419-2.157 2.419z"/></svg>
          Discord
        </a>
      </div>

      <!-- User Controls -->
      <div class="user-controls">
        <!-- Language Selector -->
        <div class="language-selector" id="language-selector">
          <button class="language-btn" id="language-btn" aria-label="Select language">
            <span class="flag" id="current-flag">🇺🇸</span>
            <span id="current-lang">EN</span>
            <span style="font-size:.7em">▼</span>
          </button>
          <div class="language-dropdown" id="language-dropdown">
            <a href="#" class="language-option active" data-lang="en">
              <span class="flag">🇺🇸</span>
              <span>English</span>
            </a>
            <a href="#" class="language-option" data-lang="nl">
              <span class="flag">🇳🇱</span>
              <span>Nederlands</span>
            </a>
            <a href="#" class="language-option" data-lang="de">
              <span class="flag">🇩🇪</span>
              <span>Deutsch</span>
            </a>
            <a href="#" class="language-option" data-lang="it">
              <span class="flag">🇮🇹</span>
              <span>Italiano</span>
            </a>
            <a href="#" class="language-option" data-lang="es">
              <span class="flag">🇪🇸</span>
              <span>Español</span>
            </a>
            <a href="#" class="language-option" data-lang="ja">
              <span class="flag">🇯🇵</span>
              <span>日本語</span>
            </a>
          </div>
        </div>
        
        <!-- Volume Control -->
        <div class="volume-control" id="volume-control">
          <button class="volume-btn" id="volume-btn" aria-label="Volume control">
            <svg class="volume-icon" id="volume-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
          </button>
          <div class="volume-slider-container" id="volume-slider-container">
            <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="0" aria-label="Volume level">
            <div class="volume-percentage" id="volume-percentage">0%</div>
          </div>
        </div>
        
        <div class="user-icon-container">
          <button class="user-icon" id="user-icon" aria-label="User menu">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </button>
          <div class="user-icon-dropdown" id="user-icon-dropdown" style="display: none;">
            <a href="/user/" data-translate="nav.profile">Profile</a>
            <a href="#" id="user-icon-logout" data-translate="nav.logout">Logout</a>
          </div>
        </div>
        <button class="hamburger" id="hamburger" aria-expanded="false" aria-label="Open menu"><span></span><span></span><span></span></button>
      </div>

      <!-- Mobile panel -->
      <div class="menu-panel" id="menu-panel">
        <div class="menu-panel-inner">
          <a href="#about" data-translate="nav.about">About</a>
          <a href="#games" data-translate="nav.games">Games</a>
          <a href="devlogs/" data-translate="nav.devlogs">Devlogs</a>
          <a href="#faq" data-translate="nav.faq">FAQ</a>
          <a href="#contact" data-translate="nav.contact">Contact</a>
          <a href="https://discord.gg/PW6UZWtZ7C" target="_blank" rel="noopener" data-translate="nav.discord">Discord</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Spotify Now Playing (Mobile) -->
  <div class="now-playing mobile-only" id="now-playing-mobile">
    <div class="np-art-mobile" id="np-art-mobile"></div>
    <div class="np-info-mobile">
      <div class="np-title-mobile" id="np-title-mobile" data-translate="spotify.not_playing">Not playing</div>
      <div class="np-artist-mobile" id="np-artist-mobile"></div>
      <a class="np-link-mobile" id="np-link-mobile" href="#" target="_blank" rel="noopener" style="display:none;" data-translate="spotify.listen">♪ Listen</a>
    </div>
  </div>

  <!-- Hero -->
  <header class="hero scanlines">
    <div class="hero-particles" id="heroParticles"></div>
    <div class="hero-inner">
      <div>
        <div class="hero-title-container">
          <h1 class="glow typing-text" data-text="Crafting Digital Worlds • Pixel by Pixel" data-translate="hero.headline">Crafting Digital Worlds • Pixel by Pixel</h1>
        </div>
        <p class="tag" data-translate="hero.tagline">Welcome to my little corner of the internet, this is where I share what I've been making — from quirky game projects and devlogs, to photography, sketches, and the occasional rambling blog post. Basically, whatever I'm tinkering with.</p>

      </div>
    </div>
  </header>

  <main>
    <!-- About -->
    <section id="about"><h2 data-translate="about.title">About</h2>
      <p class="lead"><span data-translate="about.p1_1">Hi, I'm </span><strong>Beniah Gepts</strong><span data-translate="about.p1_2">, an indie developer from Belgium.  
      I'm relatively new to the game development scene, but I've been passionate about games for over 30 years.  
      I grew up playing and studying them, and now I'm dedicated to creating my own worlds.</span></p>
      <p class="lead" data-translate="about.p2">My goal is simple: to make games of great quality that focus on one thing above all else — being fun.  
      Whether it's quirky idle projects or retro-inspired adventures, I want to craft experiences that bring players joy and a smile.</p>
    </section>

    <!-- Games -->
    <section id="games">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h2 data-translate="games.title">Games</h2>
        <button id="expand-all-btn" class="btn-secondary" data-translate="games.expand_all">Expand All</button>
      </div>
      <div class="grid">

        <!-- Is This My Floor? -->
        <article id="floor-game-card" class="card reveal" aria-expanded="false" role="button" tabindex="0">
          <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;gap:.75rem">
            <div><span class="pill">Idle • Funny</span><h3>Is This My Floor?</h3></div>
            <span class="chev" aria-hidden="true">⌄</span>
          </div>
          <div class="collapsible">
            <p data-translate="games.floor.desc">An idle elevator adventure about going nowhere—while somehow calling it progress. Strange passengers, lost-and-found upgrades, and prestige rides that push your elevator higher each run.</p>
            <div class="preview" style="margin-top:.75rem"><figure><img src="/assets/is-this-my-floor-preview.gif" alt="Is This My Floor? preview"></figure></div>
            <div style="display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.75rem">
              <a class="btn no-toggle" href="#contact" data-translate="games.contact">Contact</a><a class="btn no-toggle" href="#" data-translate="games.steam_soon">Steam (soon)</a>
            </div>
            <p class="muted"><em data-translate="games.store_soon">Store page coming soon</em></p>
          </div>
        </article>

        <!-- C.A.R.T.R.I.D.G.E -->
        <article class="card reveal" aria-expanded="false" role="button" tabindex="0">
          <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;gap:.75rem">
            <div><span class="pill">Roguelike • Deckbuilder</span><h3>C.A.R.T.R.I.D.G.E</h3></div>
            <span class="chev" aria-hidden="true">⌄</span>
          </div>
          <div class="collapsible">
            <p><strong>C.A.R.T.R.I.D.G.E</strong><span data-translate="games.cartridge.desc"> is a retro sci-fi roguelike card battler where you don't play cards — you load cartridges. Each run takes you deeper into a corrupted facility as QB, a cube-bot fighting glitches, viruses, and rogue machines. Discover synergies between modules, manage heat and power, and survive long enough to rewrite your firmware.</span></p>
            <p class="muted"><em data-translate="games.early_dev">Currently in early development.</em></p>
          </div>
        </article>

        <!-- My Guildies! -->
        <article class="card reveal" aria-expanded="false" role="button" tabindex="0">
          <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;gap:.75rem">
            <div><span class="pill">Fantasy • Management</span><h3>My Guildies!</h3></div>
            <span class="chev" aria-hidden="true">⌄</span>
          </div>
          <div class="collapsible">
            <p><strong>My Guildies!</strong><span data-translate="games.guildies.desc"> is a whimsical yet deep guild management sim. Recruit and train heroes, send squads on quests, and watch them grow. Expand halls, unlock facilities like alchemy labs and dojos, craft gear, and balance risk vs. reward to build the most renowned guild in the realm.</span></p>
            <p class="muted"><em data-translate="games.early_dev">Currently in early development.</em></p>
          </div>
        </article>

      </div>
    </section>

    <!-- Latest Devlog -->
    <section id="devlog">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h2 data-translate="devlog.title">Latest Update</h2>
        <a href="devlogs/" class="btn-secondary" data-translate="devlog.view_all">View All Devlogs</a>
      </div>
      <p class="lead" data-translate="devlog.lead">Stay up to date with the latest development progress and insights.</p>

      <div id="latest-devlog-container" class="devlog-preview">
        <!-- Latest devlog will be loaded here -->
        <div class="devlog-loading" style="text-align: center; padding: 2rem; color: var(--muted);">
          <span data-translate="devlog.loading">Loading latest update...</span>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h2 data-translate="faq.title">FAQ</h2>
        <button id="expand-all-faq-btn" class="btn-secondary" data-translate="faq.expand_all">Expand All</button>
      </div>
      <p class="lead" data-translate="faq.lead">Questions you might be thinking. If you don't see yours, ping me!</p>

      <div class="faq">
        <details>
          <summary data-translate="faq.q1">What tools do you use?</summary>
          <div data-translate="faq.a1">
            I build with <strong>Godot</strong> for the engine. Art & pixels with <strong>Krita</strong>, <strong>Aseprite</strong>,
            <strong>PixelOver</strong>, and <strong>SpriteMancer</strong>. 3D and renders in <strong>Blender</strong>.
          </div>
        </details>

        <details>
          <summary data-translate="faq.q2">Will you release games on console?</summary>
          <div data-translate="faq.a2">
            <strong>PC first</strong> (Windows). I'll definitely look into console possibilities in the future once the games are stable and the porting path makes sense.
          </div>
        </details>

        <details>
          <summary data-translate="faq.q3">Where are save files stored?</summary>
          <div data-translate="faq.a3">
            Saves are stored locally on your PC. By default, they're in the user data folder created by Godot:
            <code>%APPDATA%\Godot\app_userdata\YourGameName</code> on Windows.
            I may add Steam Cloud support so your progress follows you between devices.
          </div>
        </details>

        <details>
          <summary data-translate="faq.q4">Can I stream or make videos of your games?</summary>
          <div data-translate="faq.a4">
            Absolutely! You're welcome to record, stream, or monetize content featuring my games.
            If you do, feel free to share it in the Discord — I'd love to check it out!
          </div>
        </details>

        <details>
          <summary data-translate="faq.q5">I'm having an issue with a game — how can I get help?</summary>
          <div data-translate="faq.a5">
            Please reach out at <a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a>
            or post in the Discord server.
            To help me fix it faster, include:
            <ul>
              <li>Your OS + version (e.g., Windows 11 23H2)</li>
              <li>Game version/build date</li>
              <li>Steps to reproduce (what you did right before it happened)</li>
              <li>Screenshots or a short clip if possible</li>
              <li>Any error text or logs</li>
            </ul>
          </div>
        </details>

        <details>
          <summary data-translate="faq.q6">Are all games on the site being actively worked on?</summary>
          <div data-translate="faq.a6">
            Not at the same time. Whenever I come up with a feature idea that doesn't quite fit my current project, I build a quick prototype to test it out. If it turns out fun, I add it to my list of projects. Once the prototype phase is done, I usually put it on hold and return to my main project. Every game listed on this site is something I believe in and plan to eventually release in a playable state.
          </div>
        </details>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact"><h2 data-translate="contact.title">Contact</h2>
      <p class="lead" data-translate="contact.lead">Say hi, ask a question, or talk shop.</p>
      
      <form id="contact-form" class="contact-form">
        <div class="form-group">
          <label for="contact-name" data-translate="contact.form.name">Name</label>
          <input type="text" id="contact-name" name="name" required data-translate-placeholder="contact.form.name_placeholder">
        </div>
        
        <div class="form-group">
          <label for="contact-email" data-translate="contact.form.email">Your Email</label>
          <input type="email" id="contact-email" name="email" required data-translate-placeholder="contact.form.email_placeholder">
        </div>
        
        <div class="form-group">
          <label for="contact-subject" data-translate="contact.form.subject">Subject</label>
          <input type="text" id="contact-subject" name="subject" required data-translate-placeholder="contact.form.subject_placeholder">
        </div>
        
        <div class="form-group">
          <label for="contact-message" data-translate="contact.form.message">Message</label>
          <textarea id="contact-message" name="message" rows="5" required data-translate-placeholder="contact.form.message_placeholder"></textarea>
        </div>
        
        <button type="submit" class="btn" data-translate="contact.form.send">Send Message</button>
        
        <div id="form-status" class="form-status" style="display: none;"></div>
      </form>
      
      <div style="margin-top: 2rem;">
        <a class="btn-discord" href="https://discord.gg/PW6UZWtZ7C" target="_blank" rel="noopener" aria-label="Discord">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20.317 4.369a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.211.375-.445.865-.608 1.249a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.077.077 0 00.084-.027c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.104c-.652-.247-1.27-.55-1.845-.899a.077.077 0 01-.007-.127c.124-.093.248-.19.366-.287a.074.074 0 01.077-.01c3.869 1.776 8.065 1.776 11.896 0a.075.075 0 01.078.009c.118.098.242.195.366.288a.077.077 0 01-.006.127 12.298 12.298 0 01-1.846.898.077.077 0 00-.04.105c.36.698.772 1.364 1.225 1.994a.076.076 0 00.084.027 19.876 19.876 0 005.994-3.03.077.077 0 00.031-.056c.5-5.177-.838-9.673-3.548-13.66a.06.06 0 00-.031-.028zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.418 2.157-2.418 1.21 0 2.176 1.094 2.157 2.418 0 1.334-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.418 2.157-2.418 1.21 0 2.176 1.094 2.157 2.418 0 1.334-.947 2.419-2.157 2.419z"/></svg>
          <span data-translate="contact.discord_link">Join the server</span>
        </a>
      </div>
    </section>
  </main>

  <footer data-translate="footer.copyright">© 2025 Beniah Gepts.</footer>

  <!-- Back to top -->
  <button id="back-to-top" aria-label="Back to top" data-translate="ui.back_to_top">↑</button>

  <script>
    // Translation data
    const translations = {
      en: {
        // Navigation
        'nav.about': 'About',
        'nav.games': 'Games',
        'nav.devlogs': 'Devlogs',
        'nav.faq': 'FAQ',
        'nav.contact': 'Contact',
        'nav.signup': 'Sign Up',
        'nav.profile': 'Profile',
        'nav.logout': 'Logout',
        'nav.discord': 'Discord',
        
        // Hero section
        'hero.headline': 'Crafting Digital Worlds • Pixel by Pixel',
        'hero.tagline': 'Welcome to my little corner of the internet, this is where I share what I\'ve been making — from quirky game projects and devlogs, to photography, sketches, and the occasional rambling blog post. Basically, whatever I\'m tinkering with.',
        'hero.cta1': 'Games',
        'hero.cta2': 'Learn more',
        'hero.discord': 'Discord',
        
        // About section
        'about.title': 'About',
        'about.p1_1': 'Hi, I\'m ',
        'about.p1_2': ', an indie developer from Belgium.  \nI\'m relatively new to the game development scene, but I\'ve been passionate about games for over 30 years.  \nI grew up playing and studying them, and now I\'m dedicated to creating my own worlds.',
        'about.p2': 'My goal is simple: to make games of great quality that focus on one thing above all else — being fun.  \nWhether it\'s quirky idle projects or retro-inspired adventures, I want to craft experiences that bring players joy and a smile.',
        
        // Games section
        'games.title': 'Games',
        'games.expand_all': 'Expand All',
        'games.collapse_all': 'Collapse All',
        'games.floor.desc': 'An idle elevator adventure about going nowhere—while somehow calling it progress. Strange passengers, lost-and-found upgrades, and prestige rides that push your elevator higher each run.',
        'games.cartridge.desc': ' is a retro sci-fi roguelike card battler where you don\'t play cards — you load cartridges. Each run takes you deeper into a corrupted facility as QB, a cube-bot fighting glitches, viruses, and rogue machines. Discover synergies between modules, manage heat and power, and survive long enough to rewrite your firmware.',
        'games.guildies.desc': ' is a whimsical yet deep guild management sim. Recruit and train heroes, send squads on quests, and watch them grow. Expand halls, unlock facilities like alchemy labs and dojos, craft gear, and balance risk vs. reward to build the most renowned guild in the realm.',
        'games.contact': 'Contact',
        'games.steam_soon': 'Steam (soon)',
        'games.store_soon': 'Store page coming soon',
        'games.early_dev': 'Currently in early development.',
        
        // FAQ section
      'faq.title': 'FAQ',
      'faq.lead': 'Questions you might be thinking. If you don\'t see yours, ping me!',
      'faq.expand_all': 'Expand All',
      'faq.collapse_all': 'Collapse All',
        'faq.q1': 'What tools do you use?',
        'faq.a1': 'I build with <strong>Godot</strong> for the engine. Art & pixels with <strong>Krita</strong>, <strong>Aseprite</strong>, <strong>PixelOver</strong>, and <strong>SpriteMancer</strong>. 3D and renders in <strong>Blender</strong>.',
        'faq.q2': 'Will you release games on console?',
        'faq.a2': '<strong>PC first</strong> (Windows). I\'ll definitely look into console possibilities in the future once the games are stable and the porting path makes sense.',
        'faq.q3': 'Where are save files stored?',
      'faq.a3': 'Save file locations are unique to each game. For exact paths and instructions, please see the corresponding game\'s page.',
        'faq.q4': 'Can I stream or make videos of your games?',
        'faq.a4': 'Absolutely! You\'re welcome to record, stream, or monetize content featuring my games. If you do, feel free to share it in the Discord — I\'d love to check it out!',
        'faq.q5': 'I\'m having an issue with a game — how can I get help?',
        'faq.a5': 'Please reach out at <a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a> or post in the Discord server. To help me fix it faster, include: <ul><li>Your OS + version (e.g., Windows 11 23H2)</li><li>Game version/build date</li><li>Steps to reproduce (what you did right before it happened)</li><li>Screenshots or a short clip if possible</li><li>Any error text or logs</li></ul>',
        'faq.q6': 'Are all games on the site being actively worked on?',
        'faq.a6': 'Not at the same time. Whenever I come up with a feature idea that doesn\'t quite fit my current project, I build a quick prototype to test it out. If it turns out fun, I add it to my list of projects. Once the prototype phase is done, I usually put it on hold and return to my main project. Every game listed on this site is something I believe in and plan to eventually release in a playable state.',
        
        // Devlog section
        'devlog.title': 'Latest Devlog',
        'devlog.view_all': 'View All Devlogs',
        'devlog.lead': 'Stay updated with the latest development progress and insights.',
        'devlog.loading': 'Loading latest devlog...',
        'devlog.no_entries': 'No devlog entries available yet.',
        
        // Contact section
        'contact.title': 'Contact',
        'contact.lead': 'Say hi, ask a question, or talk shop.',
        'contact.discord_label': 'Discord:',
        'contact.discord_link': 'Join the server',
        'contact.form.name': 'Name',
        'contact.form.name_placeholder': 'Your name',
        'contact.form.email': 'Your Email',
        'contact.form.email_placeholder': 'your.email@example.com',
        'contact.form.subject': 'Subject',
        'contact.form.subject_placeholder': 'What is this about?',
        'contact.form.message': 'Message',
        'contact.form.message_placeholder': 'Tell me what\'s on your mind...',
        'contact.form.send': 'Send Message',
        
        // Login form
        'login.title': 'Login',
        'login.email': 'Email',
        'login.password': 'Password',
        'login.submit': 'Login',
        
        // Signup form
        'signup.title': 'Sign Up',
        'signup.username': 'Username',
        'signup.email': 'Email',
        'signup.password': 'Password',
        'signup.confirm_password': 'Confirm Password',
        'signup.submit': 'Sign Up',
        'signup.captcha_required': 'Please complete the captcha verification!',
        
        // Footer and UI
        'footer.copyright': '© 2025 Beniah Gepts.',
        'ui.back_to_top': '↑',
        
        // Spotify Now Playing
        'spotify.not_playing': 'Not playing',
        'spotify.listen': '♪ Listen'
      },
      
      nl: {
        // Navigation
        'nav.about': 'Over',
        'nav.games': 'Games',
        'nav.devlogs': 'Devlogs',
        'nav.faq': 'Veelgestelde Vragen',
        'nav.contact': 'Contact',
        'nav.signup': 'Aanmelden',
        'nav.profile': 'Profiel',
        'nav.logout': 'Uitloggen',
        'nav.discord': 'Discord Deelnemen',
        
        // Hero section
        'hero.headline': 'Digitale Werelden Creëren • Pixel voor Pixel',
        'hero.tagline': 'Welkom in mijn kleine hoekje van het internet, hier deel ik wat ik aan het maken ben — van eigenaardige spelprojecten en devlogs, tot fotografie, schetsen, en de occasionele ramblings blogpost. Eigenlijk, alles waar ik mee aan het klooien ben.',
        'hero.cta1': 'Games',
        'hero.cta2': 'Meer weten',
        'hero.discord': 'Word lid van de Discord',
        
        // About section
        'about.title': 'Over',
        'about.p1_1': 'Hoi, ik ben ',
        'about.p1_2': ', een indie ontwikkelaar uit België.\nIk ben relatief nieuw in de game development scene, maar ik ben al meer dan 30 jaar gepassioneerd over spellen.\nIk ben opgegroeid met het spelen en bestuderen ervan, en nu ben ik toegewijd aan het creëren van mijn eigen werelden.',
        'about.p2': 'Mijn doel is simpel: spellen van geweldige kwaliteit maken die zich richten op één ding boven alles — leuk zijn.\nOf het nu eigenaardige idle projecten of retro-geïnspireerde avonturen zijn, ik wil ervaringen creëren die spelers vreugde en een glimlach brengen.',
        
        // Games section
        'games.title': 'Spellen',
        'games.expand_all': 'Alles Uitklappen',
        'games.collapse_all': 'Alles Inklappen',
        'games.floor.desc': 'Een idle lift avontuur over nergens naartoe gaan—terwijl je het op de een of andere manier vooruitgang noemt. Vreemde passagiers, verloren-en-gevonden upgrades, en prestige ritten die je lift hoger duwen elke run.',
        'games.cartridge.desc': ' is een retro sci-fi roguelike kaartgevecht waar je geen kaarten speelt — je laadt cartridges. Elke run brengt je dieper in een gecorrumpeerde faciliteit als QB, een kubus-bot die glitches, virussen en malafide machines bevecht. Ontdek synergieën tussen modules, beheer warmte en kracht, en overleef lang genoeg om je firmware te herschrijven.',
        'games.guildies.desc': ' is een grillige maar diepe gilde management sim. Rekruteer en train helden, stuur teams op quests, en zie ze groeien. Breid hallen uit, ontgrendel faciliteiten zoals alchemie labs en dojo\'s, maak uitrusting, en balanceer risico vs. beloning om de meest gerenommeerde gilde in het rijk te bouwen.',
        'games.contact': 'Contact',
        'games.steam_soon': 'Steam (binnenkort)',
        'games.store_soon': 'Winkelpagina komt binnenkort',
        'games.early_dev': 'Momenteel in vroege ontwikkeling.',
        
        // FAQ section
        'faq.title': 'FAQ',
        'faq.lead': 'Vragen die je misschien denkt. Als je de jouwe niet ziet, ping me!',
        'faq.expand_all': 'Alles Uitklappen',
        'faq.collapse_all': 'Alles Inklappen',
        'faq.q1': 'Welke tools gebruik je?',
        'faq.a1': 'Ik bouw met <strong>Godot</strong> voor de engine. Kunst & pixels met <strong>Krita</strong>, <strong>Aseprite</strong>, <strong>PixelOver</strong>, en <strong>SpriteMancer</strong>. 3D en renders in <strong>Blender</strong>.',
        'faq.q2': 'Ga je spellen uitbrengen op console?',
        'faq.a2': '<strong>PC eerst</strong> (Windows). Ik ga zeker kijken naar console mogelijkheden in de toekomst zodra de spellen stabiel zijn en het porting pad logisch is.',
        'faq.q3': 'Waar worden save bestanden opgeslagen?',
        'faq.a3': 'Save bestand locaties zijn uniek voor elk spel. Voor exacte paden en instructies, zie de bijbehorende spelpagina.',
        'faq.q4': 'Kan ik streamen of video\'s maken van je spellen?',
        'faq.a4': 'Absoluut! Je bent welkom om content op te nemen, te streamen, of te monetiseren met mijn spellen. Als je dat doet, deel het gerust in de Discord — ik zou het graag bekijken!',
        'faq.q5': 'Ik heb een probleem met een spel — hoe kan ik hulp krijgen?',
        'faq.a5': 'Neem contact op via <a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a> of post in de Discord server. Om me te helpen het sneller op te lossen, voeg toe: <ul><li>Je OS + versie (bijv. Windows 11 23H2)</li><li>Spel versie/build datum</li><li>Stappen om te reproduceren (wat je deed vlak voordat het gebeurde)</li><li>Screenshots of een korte clip indien mogelijk</li><li>Eventuele error tekst of logs</li></ul>',
        'faq.q6': 'Worden alle spellen op de site actief ontwikkeld?',
        'faq.a6': 'Niet tegelijkertijd. Wanneer ik een feature idee krijg dat niet helemaal past bij mijn huidige project, bouw ik een snelle prototype om het uit te testen. Als het leuk blijkt, voeg ik het toe aan mijn lijst van projecten. Zodra de prototype fase klaar is, zet ik het meestal on hold en ga terug naar mijn hoofdproject. Elk spel op deze site is iets waar ik in geloof en van plan ben uiteindelijk uit te brengen in een speelbare staat.',
        
        // Devlog section
        'devlog.title': 'Laatste Devlog',
        'devlog.view_all': 'Bekijk Alle Devlogs',
        'devlog.lead': 'Blijf op de hoogte van de laatste ontwikkelingsvoortgang en inzichten.',
        'devlog.loading': 'Laatste devlog laden...',
        'devlog.no_entries': 'Nog geen devlog entries beschikbaar.',
        
        // Contact section
        'contact.title': 'Contact',
        'contact.lead': 'Zeg hoi, stel een vraag, of praat shop.',
        'contact.discord_label': 'Discord:',
        'contact.discord_link': 'Deelnemen aan de server',
        'contact.form.name': 'Naam',
        'contact.form.name_placeholder': 'Je naam',
        'contact.form.email': 'Je Email',
        'contact.form.email_placeholder': 'je.email@voorbeeld.com',
        'contact.form.subject': 'Onderwerp',
        'contact.form.subject_placeholder': 'Waar gaat dit over?',
        'contact.form.message': 'Bericht',
        'contact.form.message_placeholder': 'Vertel me wat je denkt...',
        'contact.form.send': 'Bericht Versturen',
        
        // Login form
        'login.title': 'Inloggen',
        'login.email': 'Email',
        'login.password': 'Wachtwoord',
        'login.submit': 'Inloggen',
        
        // Signup form
        'signup.title': 'Aanmelden',
        'signup.username': 'Gebruikersnaam',
        'signup.email': 'Email',
        'signup.password': 'Wachtwoord',
        'signup.confirm_password': 'Bevestig Wachtwoord',
        'signup.submit': 'Aanmelden',
        'signup.captcha_required': 'Voltooi de captcha verificatie!',
        
        // Footer and UI
        'footer.copyright': '© 2025 Beniah Gepts.',
        'ui.back_to_top': '↑',
        
        // Spotify Now Playing
        'spotify.not_playing': 'Niet aan het spelen',
        'spotify.listen': '♪ Luisteren'
      },
      
      de: {
        // Navigation
        'nav.about': 'Über',
        'nav.games': 'Spiele',
        'nav.devlogs': 'Devlogs',
        'nav.faq': 'FAQ',
        'nav.contact': 'Kontakt',
        'nav.signup': 'Anmelden',
        'nav.profile': 'Profil',
        'nav.logout': 'Abmelden',
        'nav.discord': 'Discord Beitreten',
        
        // Hero section
        'hero.headline': 'Digitale Welten Erschaffen • Pixel für Pixel',
        'hero.tagline': 'Willkommen in meiner kleinen Ecke des Internets, hier teile ich, was ich mache — von skurrilen Spielprojekten und Devlogs bis hin zu Fotografie, Skizzen und gelegentlichen Blog-Posts. Im Grunde alles, womit ich herumbastle.',
        'hero.cta1': 'Spiele ansehen',
        'hero.cta2': 'Mehr erfahren',
        'hero.discord': 'Discord beitreten',
        
        // About section
        'about.title': 'Über',
        'about.p1_1': 'Hallo, ich bin ',
        'about.p1_2': ', ein Indie-Entwickler aus Belgien.\nIch bin relativ neu in der Spieleentwicklungsszene, aber ich bin seit über 30 Jahren leidenschaftlich für Spiele.\nIch bin damit aufgewachsen, sie zu spielen und zu studieren, und jetzt widme ich mich der Erschaffung meiner eigenen Welten.',
        'about.p2': 'Mein Ziel ist einfach: Spiele von großartiger Qualität zu machen, die sich auf eine Sache über alles andere konzentrieren — Spaß zu haben.\nOb es skurrile Idle-Projekte oder retro-inspirierte Abenteuer sind, ich möchte Erfahrungen schaffen, die Spielern Freude und ein Lächeln bringen.',
        
        // Games section
        'games.title': 'Spiele',
        'games.expand_all': 'Alle Erweitern',
        'games.collapse_all': 'Alle Einklappen',
        'games.floor.desc': 'Ein Idle-Fahrstuhl-Abenteuer über das Nirgendwo-Hingehen—während man es irgendwie Fortschritt nennt. Seltsame Passagiere, verloren-und-gefundene Upgrades und Prestige-Fahrten, die deinen Fahrstuhl bei jedem Lauf höher treiben.',
        'games.cartridge.desc': ' ist ein Retro-Sci-Fi-Roguelike-Kartenkampf, bei dem du keine Karten spielst — du lädst Cartridges. Jeder Lauf führt dich tiefer in eine korrumpierte Einrichtung als QB, ein Würfel-Bot, der Glitches, Viren und Schurken-Maschinen bekämpft. Entdecke Synergien zwischen Modulen, verwalte Hitze und Energie und überlebe lange genug, um deine Firmware neu zu schreiben.',
        'games.guildies.desc': ' ist eine skurrile, aber tiefe Gildenverwaltungssimulation. Rekrutiere und trainiere Helden, schicke Trupps auf Quests und sieh sie wachsen. Erweitere Hallen, schalte Einrichtungen wie Alchemielabore und Dojos frei, fertige Ausrüstung und balanciere Risiko vs. Belohnung, um die renommierteste Gilde im Reich aufzubauen.',
        'games.contact': 'Kontakt',
        'games.steam_soon': 'Steam (bald)',
        'games.store_soon': 'Shop-Seite kommt bald',
        'games.early_dev': 'Derzeit in früher Entwicklung.',
        
        // FAQ section
        'faq.title': 'FAQ',
        'faq.lead': 'Fragen, die du vielleicht denkst. Wenn du deine nicht siehst, ping mich!',
        'faq.expand_all': 'Alle Erweitern',
        'faq.collapse_all': 'Alle Einklappen',
        'faq.q1': 'Welche Tools verwendest du?',
        'faq.a1': 'Ich baue mit <strong>Godot</strong> für die Engine. Kunst & Pixel mit <strong>Krita</strong>, <strong>Aseprite</strong>, <strong>PixelOver</strong> und <strong>SpriteMancer</strong>. 3D und Renders in <strong>Blender</strong>.',
        'faq.q2': 'Wirst du Spiele auf Konsolen veröffentlichen?',
        'faq.a2': '<strong>PC zuerst</strong> (Windows). Ich werde definitiv Konsolen-Möglichkeiten in der Zukunft betrachten, sobald die Spiele stabil sind und der Portierungspfad Sinn macht.',
        'faq.q3': 'Wo werden Speicherdateien gespeichert?',
        'faq.a3': 'Speicherdatei-Standorte sind für jedes Spiel einzigartig. Für genaue Pfade und Anweisungen siehe bitte die entsprechende Spielseite.',
        'faq.q4': 'Kann ich deine Spiele streamen oder Videos davon machen?',
        'faq.a4': 'Absolut! Du bist willkommen, Inhalte mit meinen Spielen aufzunehmen, zu streamen oder zu monetarisieren. Wenn du das tust, teile es gerne im Discord — ich würde es gerne anschauen!',
        'faq.q5': 'Ich habe ein Problem mit einem Spiel — wie kann ich Hilfe bekommen?',
        'faq.a5': 'Bitte wende dich an <a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a> oder poste im Discord-Server. Um mir zu helfen, es schneller zu beheben, füge hinzu: <ul><li>Dein OS + Version (z.B. Windows 11 23H2)</li><li>Spielversion/Build-Datum</li><li>Schritte zur Reproduktion (was du getan hast, bevor es passierte)</li><li>Screenshots oder ein kurzer Clip, wenn möglich</li><li>Jeglicher Fehlertext oder Logs</li></ul>',
        'faq.q6': 'Werden alle Spiele auf der Website aktiv entwickelt?',
        'faq.a6': 'Nicht gleichzeitig. Wann immer mir eine Feature-Idee einfällt, die nicht ganz zu meinem aktuellen Projekt passt, baue ich einen schnellen Prototyp, um sie zu testen. Wenn es sich als spaßig erweist, füge ich es zu meiner Projektliste hinzu. Sobald die Prototyp-Phase abgeschlossen ist, pausiere ich es normalerweise und kehre zu meinem Hauptprojekt zurück. Jedes Spiel auf dieser Website ist etwas, an das ich glaube und das ich schließlich in einem spielbaren Zustand veröffentlichen möchte.',
        
        // Devlog section
        'devlog.title': 'Neuester Devlog',
        'devlog.view_all': 'Alle Devlogs Anzeigen',
        'devlog.lead': 'Bleibe über die neuesten Entwicklungsfortschritte und Einblicke auf dem Laufenden.',
        'devlog.loading': 'Neuester Devlog wird geladen...',
        'devlog.no_entries': 'Noch keine Devlog-Einträge verfügbar.',
        
        // Contact section
        'contact.title': 'Kontakt',
        'contact.lead': 'Sag hallo, stell eine Frage oder rede Fachsimpelei.',
        'contact.discord_label': 'Discord:',
        'contact.discord_link': 'Server beitreten',
        'contact.form.name': 'Name',
        'contact.form.name_placeholder': 'Dein Name',
        'contact.form.email': 'Deine Email',
        'contact.form.email_placeholder': 'deine.email@beispiel.com',
        'contact.form.subject': 'Betreff',
        'contact.form.subject_placeholder': 'Worum geht es?',
        'contact.form.message': 'Nachricht',
        'contact.form.message_placeholder': 'Erzähl mir, was du denkst...',
        'contact.form.send': 'Nachricht Senden',
        
        // Signup form
        'signup.title': 'Anmelden',
        'signup.username': 'Benutzername',
        'signup.email': 'Email',
        'signup.password': 'Passwort',
        'signup.confirm_password': 'Passwort Bestätigen',
        'signup.submit': 'Anmelden',
        
        // Footer and UI
        'footer.copyright': '© 2025 Beniah Gepts.',
        'ui.back_to_top': '↑',
        
        // Spotify Now Playing
        'spotify.not_playing': 'Spielt nicht',
        'spotify.listen': '♪ Anhören'
      },
      
      it: {
        // Navigation
        'nav.about': 'Chi Sono',
        'nav.games': 'Giochi',
        'nav.devlogs': 'Devlogs',
        'nav.faq': 'FAQ',
        'nav.contact': 'Contatti',
        'nav.signup': 'Registrati',
        'nav.discord': 'Unisciti a Discord',
        
        // Hero section
        'hero.headline': 'Creando Mondi Digitali • Pixel per Pixel',
        'hero.tagline': 'Benvenuto nel mio piccolo angolo di internet, qui condivido quello che sto creando — da progetti di giochi bizzarri e devlog, a fotografia, schizzi e occasionali post di blog. Praticamente, tutto quello con cui sto smanettando.',
        'hero.cta1': 'Vedi i giochi',
        'hero.cta2': 'Scopri di più',
        'hero.discord': 'Unisciti al Discord',
        
        // About section
        'about.title': 'Chi Sono',
        'about.p1_1': 'Ciao, sono',
        'about.p1_2': ', uno sviluppatore indie dal Belgio.\nSono relativamente nuovo nella scena dello sviluppo di giochi, ma sono appassionato di giochi da oltre 30 anni.\nSono cresciuto giocandoli e studiandoli, e ora mi dedico alla creazione dei miei mondi.',
        'about.p2': 'Il mio obiettivo è semplice: creare giochi di grande qualità che si concentrano su una cosa sopra tutto il resto — essere divertenti.\nChe si tratti di progetti idle bizzarri o avventure ispirate al retro, voglio creare esperienze che portino gioia e un sorriso ai giocatori.',
        
        // Games section
        'games.title': 'Giochi',
        'games.expand_all': 'Espandi Tutto',
        'games.collapse_all': 'Comprimi Tutto',
        'games.floor.desc': 'Un\'avventura idle in ascensore sul non andare da nessuna parte—pur chiamandolo in qualche modo progresso. Passeggeri strani, upgrade persi-e-trovati, e corse di prestigio che spingono il tuo ascensore più in alto ad ogni corsa.',
        'games.cartridge.desc': ' è un combattimento roguelike retro sci-fi con carte dove non giochi carte — carichi cartucce. Ogni corsa ti porta più in profondità in una struttura corrotta come QB, un cubo-bot che combatte glitch, virus e macchine canaglia. Scopri sinergie tra moduli, gestisci calore e potenza, e sopravvivi abbastanza a lungo per riscrivere il tuo firmware.',
        'games.guildies.desc': ' è una simulazione di gestione gilda stravagante ma profonda. Recluta e addestra eroi, manda squadre in missioni, e guardali crescere. Espandi sale, sblocca strutture come laboratori di alchimia e dojo, crea equipaggiamento, e bilancia rischio vs. ricompensa per costruire la gilda più rinomata del regno.',
        'games.contact': 'Contatti',
        'games.steam_soon': 'Steam (presto)',
        'games.store_soon': 'Pagina del negozio in arrivo presto',
        'games.early_dev': 'Attualmente in sviluppo iniziale.',
        
        // FAQ section
        'faq.title': 'FAQ',
        'faq.lead': 'Domande che potresti pensare. Se non vedi la tua, scrivimi!',
        'faq.expand_all': 'Espandi Tutto',
        'faq.collapse_all': 'Comprimi Tutto',
        'faq.q1': 'Che strumenti usi?',
        'faq.a1': 'Costruisco con <strong>Godot</strong> per il motore. Arte & pixel con <strong>Krita</strong>, <strong>Aseprite</strong>, <strong>PixelOver</strong> e <strong>SpriteMancer</strong>. 3D e render in <strong>Blender</strong>.',
        'faq.q2': 'Rilascerai giochi su console?',
        'faq.a2': '<strong>PC prima</strong> (Windows). Guarderò sicuramente alle possibilità console in futuro una volta che i giochi sono stabili e il percorso di porting ha senso.',
        'faq.q3': 'Dove sono memorizzati i file di salvataggio?',
        'faq.a3': 'Le posizioni dei file di salvataggio sono uniche per ogni gioco. Per percorsi esatti e istruzioni, consulta la pagina del gioco corrispondente.',
        'faq.q4': 'Posso fare streaming o video dei tuoi giochi?',
        'faq.a4': 'Assolutamente! Sei il benvenuto a registrare, fare streaming o monetizzare contenuti con i miei giochi. Se lo fai, sentiti libero di condividerlo nel Discord — mi piacerebbe vederlo!',
        'faq.q5': 'Ho un problema con un gioco — come posso ottenere aiuto?',
        'faq.a5': 'Per favore contatta <a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a> o posta nel server Discord. Per aiutarmi a risolverlo più velocemente, includi: <ul><li>Il tuo OS + versione (es. Windows 11 23H2)</li><li>Versione del gioco/data di build</li><li>Passi per riprodurre (cosa hai fatto proprio prima che succedesse)</li><li>Screenshot o un breve clip se possibile</li><li>Qualsiasi testo di errore o log</li></ul>',
        'faq.q6': 'Tutti i giochi sul sito sono in sviluppo attivo?',
        'faq.a6': 'Non allo stesso tempo. Ogni volta che mi viene un\'idea per una funzionalità che non si adatta perfettamente al mio progetto attuale, costruisco un prototipo veloce per testarla. Se risulta divertente, la aggiungo alla mia lista di progetti. Una volta finita la fase di prototipo, di solito la metto in pausa e torno al mio progetto principale. Ogni gioco elencato su questo sito è qualcosa in cui credo e che ho intenzione di rilasciare eventualmente in uno stato giocabile.',
        
        // Devlog section
        'devlog.title': 'Ultimo Devlog',
        'devlog.view_all': 'Visualizza Tutti i Devlog',
        'devlog.lead': 'Rimani aggiornato sui progressi di sviluppo e approfondimenti più recenti.',
        'devlog.loading': 'Caricamento ultimo devlog...',
        'devlog.no_entries': 'Nessun entry devlog ancora disponibile.',
        
        // Contact section
        'contact.title': 'Contatti',
        'contact.lead': 'Saluta, fai una domanda, o parla di lavoro.',
        'contact.discord_label': 'Discord:',
        'contact.discord_link': 'Unisciti al server',
        'contact.form.name': 'Nome',
        'contact.form.name_placeholder': 'Il tuo nome',
        'contact.form.email': 'La tua Email',
        'contact.form.email_placeholder': 'tua.email@esempio.com',
        'contact.form.subject': 'Oggetto',
        'contact.form.subject_placeholder': 'Di cosa si tratta?',
        'contact.form.message': 'Messaggio',
        'contact.form.message_placeholder': 'Dimmi cosa pensi...',
        'contact.form.send': 'Invia Messaggio',
        
        // Signup form
        'signup.title': 'Registrati',
        'signup.username': 'Nome Utente',
        'signup.email': 'Email',
        'signup.password': 'Password',
        'signup.confirm_password': 'Conferma Password',
        'signup.submit': 'Registrati',
        
        // Footer and UI
        'footer.copyright': '© 2025 Beniah Gepts.',
        'ui.back_to_top': '↑',
        
        // Spotify Now Playing
        'spotify.not_playing': 'Non in riproduzione',
        'spotify.listen': '♪ Ascolta'
      },
      
      es: {
        // Navigation
        'nav.about': 'Acerca de',
        'nav.games': 'Juegos',
        'nav.devlogs': 'Devlogs',
        'nav.faq': 'Preguntas Frecuentes',
        'nav.contact': 'Contacto',
        'nav.signup': 'Registrarse',
        'nav.profile': 'Perfil',
        'nav.logout': 'Cerrar Sesión',
        'nav.discord': 'Únete a Discord',
        
        // Hero section
        'hero.headline': 'Creando Mundos Digitales • Píxel a Píxel',
        'hero.tagline': 'Bienvenido a mi pequeño rincón de internet, aquí comparto lo que he estado haciendo — desde proyectos de juegos peculiares y devlogs, hasta fotografía, bocetos y ocasionales posts de blog divagantes. Básicamente, cualquier cosa con la que esté trasteando.',
        'hero.cta1': 'Ver juegos',
        'hero.cta2': 'Saber más',
        'hero.discord': 'Únete al Discord',
        
        // About section
        'about.title': 'Acerca de',
        'about.p1_1': 'Hola, soy',
        'about.p1_2': ', un desarrollador indie de Bélgica.\nSoy relativamente nuevo en la escena del desarrollo de juegos, pero he sido apasionado de los juegos por más de 30 años.\nCrecí jugándolos y estudiándolos, y ahora me dedico a crear mis propios mundos.',
        'about.p2': 'Mi objetivo es simple: crear juegos de gran calidad que se enfoquen en una cosa por encima de todo lo demás — ser divertidos.\nYa sean proyectos idle extraños o aventuras inspiradas en lo retro, quiero crear experiencias que traigan alegría y una sonrisa a los jugadores.',
        
        // Games section
        'games.title': 'Juegos',
        'games.floor.desc': 'Una aventura idle de ascensor sobre no ir a ninguna parte—mientras de alguna manera lo llamas progreso. Pasajeros extraños, mejoras perdidas-y-encontradas, y viajes de prestigio que empujan tu ascensor más alto en cada carrera.',
        'games.cartridge.desc': ' es un juego de cartas roguelike retro sci-fi donde no juegas cartas — cargas cartuchos. Cada carrera te lleva más profundo en una instalación corrupta como QB, un cubo-bot luchando contra glitches, virus y máquinas rebeldes. Descubre sinergias entre módulos, gestiona calor y energía, y sobrevive lo suficiente para reescribir tu firmware.',
        'games.guildies.desc': ' es una simulación de gestión de gremio caprichosa pero profunda. Recluta y entrena héroes, envía escuadrones en misiones, y míralos crecer. Expande salas, desbloquea instalaciones como laboratorios de alquimia y dojos, crea equipo, y equilibra riesgo vs. recompensa para construir el gremio más renombrado del reino.',
        'games.contact': 'Contacto',
        'games.steam_soon': 'Steam (pronto)',
        'games.store_soon': 'Página de la tienda próximamente',
        'games.early_dev': 'Actualmente en desarrollo temprano.',
        
        // FAQ section
        'faq.title': 'FAQ',
        'faq.lead': 'Preguntas que podrías estar pensando. Si no ves la tuya, ¡escríbeme!',
        'faq.expand_all': 'Expandir Todo',
        'faq.collapse_all': 'Contraer Todo',
        'faq.q1': '¿Qué herramientas usas?',
        'faq.a1': 'Construyo con <strong>Godot</strong> para el motor. Arte y píxeles con <strong>Krita</strong>, <strong>Aseprite</strong>, <strong>PixelOver</strong> y <strong>SpriteMancer</strong>. 3D y renders en <strong>Blender</strong>.',
        'faq.q2': '¿Lanzarás juegos en consola?',
        'faq.a2': '<strong>PC primero</strong> (Windows). Definitivamente consideraré posibilidades de consola en el futuro una vez que los juegos sean estables y el camino de porteo tenga sentido.',
        'faq.q3': '¿Dónde se almacenan los archivos de guardado?',
        'faq.a3': 'Las ubicaciones de archivos de guardado son únicas para cada juego. Para rutas exactas e instrucciones, consulta la página del juego correspondiente.',
        'faq.q4': '¿Puedo hacer streaming o videos de tus juegos?',
        'faq.a4': '¡Absolutamente! Eres bienvenido a grabar, hacer streaming o monetizar contenido con mis juegos. Si lo haces, siéntete libre de compartirlo en Discord — ¡me encantaría verlo!',
        'faq.q5': 'Tengo un problema con un juego — ¿cómo puedo obtener ayuda?',
        'faq.a5': 'Por favor contacta a <a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a> o publica en el servidor de Discord. Para ayudarme a solucionarlo más rápido, incluye: <ul><li>Tu OS + versión (ej. Windows 11 23H2)</li><li>Versión del juego/fecha de compilación</li><li>Pasos para reproducir (qué hiciste justo antes de que pasara)</li><li>Capturas de pantalla o un clip corto si es posible</li><li>Cualquier texto de error o logs</li></ul>',
        'faq.q6': '¿Todos los juegos en el sitio están siendo trabajados activamente?',
        'faq.a6': 'No al mismo tiempo. Cada vez que se me ocurre una idea de característica que no encaja perfectamente en mi proyecto actual, construyo un prototipo rápido para probarla. Si resulta divertida, la agrego a mi lista de proyectos. Una vez que la fase de prototipo está terminada, usualmente la pongo en pausa y regreso a mi proyecto principal. Cada juego listado en este sitio es algo en lo que creo y planeo eventualmente lanzar en un estado jugable.',
        
        // Devlog section
        'devlog.title': 'Último Devlog',
        'devlog.view_all': 'Ver Todos los Devlogs',
        'devlog.lead': 'Mantente actualizado con los últimos progresos de desarrollo e insights.',
        'devlog.loading': 'Cargando último devlog...',
        'devlog.no_entries': 'Aún no hay entradas de devlog disponibles.',
        
        // Contact section
        'contact.title': 'Contacto',
        'contact.lead': 'Saluda, haz una pregunta, o habla de trabajo.',
        'contact.email': 'Email: <a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a>',
        'contact.discord_label': 'Discord:',
        'contact.discord_link': 'Únete al servidor',
        
        // Login form
        'login.title': 'Iniciar Sesión',
        'login.email': 'Email',
        'login.password': 'Contraseña',
        'login.submit': 'Iniciar Sesión',
        
        // Signup form
        'signup.title': 'Registrarse',
        'signup.username': 'Nombre de Usuario',
        'signup.email': 'Email',
        'signup.password': 'Contraseña',
        'signup.confirm_password': 'Confirmar Contraseña',
        'signup.submit': 'Registrarse',
        'signup.captcha_required': '¡Por favor completa la verificación captcha!',
        
        // Footer and UI
        'footer.copyright': '© 2025 Beniah Gepts.',
        'ui.back_to_top': '↑',
        
        // Spotify Now Playing
        'spotify.not_playing': 'No reproduciendo',
        'spotify.listen': '♪ Escuchar'
      },
      
      ja: {
        // Navigation
        'nav.about': 'について',
        'nav.games': 'ゲーム',
        'nav.devlogs': 'デブログ',
        'nav.faq': 'よくある質問',
        'nav.contact': 'お問い合わせ',
        'nav.signup': 'サインアップ',
        'nav.profile': 'プロフィール',
        'nav.logout': 'ログアウト',
        'nav.discord': 'Discordに参加',
        
        // Hero section
        'hero.headline': 'デジタル世界を創造 • ピクセルごとに',
        'hero.tagline': 'インターネットの私の小さな片隅へようこそ。ここでは私が作っているものを共有しています — 奇妙なゲームプロジェクトやdevlogから、写真、スケッチ、時々のとりとめのないブログ投稿まで。基本的に、私がいじっているものすべてです。',
        'hero.cta1': 'ゲームを見る',
        'hero.cta2': 'もっと知る',
        'hero.discord': 'Discordに参加',
        
        // About section
        'about.title': 'について',
        'about.p1_1': 'こんにちは、私は',
        'about.p1_2': 'です。ベルギー出身のインディー開発者です。\nゲーム開発シーンでは比較的新しいですが、30年以上ゲームに情熱を注いでいます。\nゲームをプレイし、研究して育ち、今は自分の世界を作ることに専念しています。',
        'about.p2': '私の目標はシンプルです：何よりも一つのことに焦点を当てた高品質なゲームを作ること — 楽しいことです。\n奇妙なアイドルプロジェクトでも、レトロにインスパイアされた冒険でも、プレイヤーに喜びと笑顔をもたらす体験を作りたいと思っています。',
        
        // Games section
        'games.title': 'ゲーム',
        'games.floor.desc': 'どこにも行かないことについてのアイドルエレベーターアドベンチャー—それをなぜか進歩と呼んでいます。奇妙な乗客、紛失・発見されたアップグレード、そして各ランでエレベーターをより高く押し上げるプレステージライド。',
        'games.cartridge.desc': 'は、カードをプレイしないレトロSFローグライクカードバトラーです—カートリッジをロードします。各ランでは、グリッチ、ウイルス、不正なマシンと戦うキューブボットQBとして、破損した施設の奥深くへ進みます。モジュール間のシナジーを発見し、熱と電力を管理し、ファームウェアを書き換えるのに十分長く生き残ってください。',
        'games.guildies.desc': 'は、風変わりでありながら深いギルド管理シムです。ヒーローを募集・訓練し、チームをクエストに送り、彼らの成長を見守ります。ホールを拡張し、錬金術ラボや道場などの施設をアンロックし、装備を作成し、リスクと報酬のバランスを取って、王国で最も有名なギルドを築きます。',
        'games.contact': 'お問い合わせ',
        'games.steam_soon': 'Steam（近日公開）',
        'games.store_soon': 'ストアページ近日公開',
        'games.early_dev': '現在初期開発中。',
        
        // FAQ section
        'faq.title': 'FAQ',
        'faq.lead': 'あなたが考えているかもしれない質問。見つからない場合は、連絡してください！',
        'faq.expand_all': 'すべて展開',
        'faq.collapse_all': 'すべて折りたたみ',
        'faq.q1': 'どのようなツールを使用していますか？',
        'faq.a1': 'エンジンには<strong>Godot</strong>を使用しています。アートとピクセルには<strong>Krita</strong>、<strong>Aseprite</strong>、<strong>PixelOver</strong>、<strong>SpriteMancer</strong>を使用。3Dとレンダリングには<strong>Blender</strong>を使用しています。',
        'faq.q2': 'コンソールでゲームをリリースしますか？',
        'faq.a2': '<strong>PCファースト</strong>（Windows）です。ゲームが安定し、移植パスが理にかなったら、将来的にコンソールの可能性を確実に検討します。',
        'faq.q3': 'セーブファイルはどこに保存されますか？',
        'faq.a3': 'セーブファイルの場所は各ゲームで異なります。正確なパスと手順については、対応するゲームのページをご覧ください。',
        'faq.q4': 'あなたのゲームをストリーミングしたり動画を作ったりできますか？',
        'faq.a4': 'もちろんです！私のゲームを録画、ストリーミング、または収益化することを歓迎します。もしそうするなら、Discordで共有してください — ぜひ見てみたいです！',
        'faq.q5': 'ゲームで問題が発生しました — どうすれば助けを得られますか？',
        'faq.a5': '<a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a>に連絡するか、Discordサーバーに投稿してください。より早く修正するために、以下を含めてください：<ul><li>あなたのOS +バージョン（例：Windows 11 23H2）</li><li>ゲームバージョン/ビルド日</li><li>再現手順（それが起こる直前に何をしたか）</li><li>可能であればスクリーンショットまたは短いクリップ</li><li>エラーテキストまたはログ</li></ul>',
        'faq.q6': 'サイト上のすべてのゲームは積極的に開発されていますか？',
        'faq.a6': '同時にではありません。現在のプロジェクトにあまり合わない機能のアイデアを思いついたときは、それをテストするために素早くプロトタイプを作ります。楽しいことがわかれば、プロジェクトリストに追加します。プロトタイプ段階が終わったら、通常それを保留にしてメインプロジェクトに戻ります。このサイトにリストされているすべてのゲームは、私が信じているものであり、最終的にプレイ可能な状態でリリースする予定のものです。',
        
        // Devlog section
        'devlog.title': '最新のDevlog',
        'devlog.view_all': 'すべてのDevlogを表示',
        'devlog.lead': '最新の開発進捗と洞察を常に把握してください。',
        'devlog.loading': '最新のdevlogを読み込み中...',
        'devlog.no_entries': 'まだdevlogエントリーはありません。',
        
        // Contact section
        'contact.title': 'お問い合わせ',
        'contact.lead': '挨拶、質問、または仕事の話をしましょう。',
        'contact.email': 'メール：<a href="mailto:contact@beniah.games" style="color:var(--link)">contact@beniah.games</a>',
        'contact.discord_label': 'Discord：',
        'contact.discord_link': 'サーバーに参加',
        
        // Login form
        'login.title': 'ログイン',
        'login.email': 'メール',
        'login.password': 'パスワード',
        'login.submit': 'ログイン',
        
        // Signup form
        'signup.title': 'サインアップ',
        'signup.username': 'ユーザー名',
        'signup.email': 'メール',
        'signup.password': 'パスワード',
        'signup.confirm_password': 'パスワード確認',
        'signup.submit': 'サインアップ',
        'signup.captcha_required': 'キャプチャ認証を完了してください！',
        
        // Footer and UI
        'footer.copyright': '© 2025 Beniah Gepts.',
        'ui.back_to_top': '↑',
        
        // Spotify Now Playing
        'spotify.not_playing': '再生していません',
        'spotify.listen': '♪ 聴く'
      }
    };

    // Scroll-based parallax (movement only on scroll) - optimized for mobile
    (() => {
      const back = document.querySelector('.layer-back');
      const mid = document.querySelector('.layer-mid');
      const front = document.querySelector('.layer-front');
      
      let ticking = false;
      
      const apply = () => {
        const y = window.scrollY || window.pageYOffset || 0;
        
        // Use transform3d for better mobile performance
        // Adjusted values to work with larger layer sizes and prevent gaps
        back.style.transform = `translate3d(0, ${y * 0.05}px, 0)`;   // far (slower)
        mid.style.transform = `translate3d(0, ${y * 0.15}px, 0)`;    // mid 
        front.style.transform = `translate3d(0, ${y * 0.25}px, 0)`;  // near
        
        ticking = false;
      };
      
      const requestTick = () => {
        if (!ticking) {
          requestAnimationFrame(apply);
          ticking = true;
        }
      };
      
      // Initial application
      apply();
      
      // Handle scroll events with throttling for better performance
      window.addEventListener('scroll', requestTick, { passive: true });
      
      // Handle touch events for mobile devices
      let touchStartY = 0;
      let isScrolling = false;
      
      window.addEventListener('touchstart', (e) => {
        touchStartY = e.touches[0].clientY;
        isScrolling = false;
      }, { passive: true });
      
      window.addEventListener('touchmove', (e) => {
        if (!isScrolling) {
          isScrolling = true;
          requestTick();
        }
      }, { passive: true });
      
      // Handle orientation changes on mobile
      window.addEventListener('orientationchange', () => {
        setTimeout(apply, 100);
      });
    })();

    // Reveal on scroll (with fallback so cards never stay hidden)
    document.addEventListener('DOMContentLoaded', () => {
      const els = document.querySelectorAll('#games .card');

      if (!('IntersectionObserver' in window)) {
        els.forEach(el => el.classList.add('revealed'));
        return;
      }

      let anyRevealed = false;
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            e.target.classList.add('revealed');
            obs.unobserve(e.target);
            anyRevealed = true;
          }
        });
      }, { threshold: 0.15, rootMargin: '0px 0px -10% 0px' });

      els.forEach(el => obs.observe(el));

      // Safety: if nothing reveals quickly, just show them (prevents "empty grid")
      setTimeout(() => {
        if (!anyRevealed) els.forEach(el => el.classList.add('revealed'));
      }, 600);
    });

    // Audio Manager System
    (() => {
      let audioContext;
      
      // Load saved volume level from localStorage
      let masterVolume = 0; // Default to muted
      try {
        const savedVolume = localStorage.getItem('sound-level');
        if (savedVolume !== null) {
          const parsedVolume = parseFloat(savedVolume);
          // Validate the saved volume is within acceptable range
          if (!isNaN(parsedVolume) && parsedVolume >= 0 && parsedVolume <= 100) {
            masterVolume = parsedVolume;
          }
        }
      } catch (error) {
        console.warn('Failed to load saved volume level:', error);
        // masterVolume remains 0 (muted) as fallback
      }
      
      const sounds = {};

      // Initialize audio context on first user interaction
      function initAudioContext() {
        if (!audioContext) {
          audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }
        if (audioContext.state === 'suspended') {
          audioContext.resume();
        }
      }

      // Load and cache audio files
      async function loadSound(name, url) {
        // Don't reload if already loaded
        if (sounds[name]) {
          console.log(`Sound already loaded: ${name}`);
          return;
        }
        
        try {
          console.log(`Loading sound: ${name} from ${url}`);
          const response = await fetch(url);
          if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText} for ${url}`);
          }
          const arrayBuffer = await response.arrayBuffer();
          const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);
          sounds[name] = audioBuffer;
          console.log(`Successfully loaded sound: ${name}, duration: ${audioBuffer.duration}s`);
        } catch (error) {
          console.error(`Failed to load sound: ${name} from ${url}`, error);
        }
      }

      // Play sound with volume control
      async function playSound(name, volume = 1) {
        console.log(`Attempting to play sound: ${name}, volume: ${masterVolume}%, audioContext: ${!!audioContext}, soundLoaded: ${!!sounds[name]}`);
        
        // Auto-initialize audio if volume > 0 but audio not ready
        if (masterVolume > 0 && (!audioContext || !sounds[name])) {
          console.log('Auto-initializing audio for immediate playback...');
          try {
            if (!audioContext) {
              initAudioContext();
            }
            if (!sounds[name]) {
              // Load sound on demand based on name
              const soundPaths = {
                'welcomeClick': 'assets/0110000101110101011001000110100101101111/FUI Ping Simple High.wav',
                'alienOpen': 'assets/0110000101110101011001000110100101101111/Alien Interface Open-1.wav',
                'alienClose': 'assets/0110000101110101011001000110100101101111/Alien Interface Close-1.wav',
                'gadgetOpen': 'assets/0110000101110101011001000110100101101111/Small High-Tech Gadget Open.wav',
                'gadgetClose': 'assets/0110000101110101011001000110100101101111/Small High-Tech Gadget Close.wav',
                'faqOpen': 'assets/0110000101110101011001000110100101101111/Micro Clicks Motion.wav',
                'faqClose': 'assets/0110000101110101011001000110100101101111/Micro Mechanism Extend Short.wav',
                'holographicOpen': 'assets/0110000101110101011001000110100101101111/Holographic Open Panel.wav'
              };
              if (soundPaths[name]) {
                await loadSound(name, soundPaths[name]);
              }
            }
          } catch (error) {
            console.error('Failed to auto-initialize audio:', error);
            return;
          }
        }
        
        if (!audioContext) {
          console.warn('Audio context not initialized');
          return;
        }
        
        if (!sounds[name]) {
          console.warn(`Sound not loaded: ${name}`);
          return;
        }
        
        if (masterVolume === 0) {
          console.log('Volume is muted, not playing sound');
          return;
        }
        
        try {
          const source = audioContext.createBufferSource();
          const gainNode = audioContext.createGain();
          
          source.buffer = sounds[name];
          source.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          gainNode.gain.value = (masterVolume / 100) * volume;
          source.start();
          console.log(`Playing sound: ${name} at volume ${gainNode.gain.value}`);
        } catch (error) {
          console.error(`Failed to play sound: ${name}`, error);
        }
      }

      // Volume control UI
      const volumeBtn = document.getElementById('volume-btn');
      const volumeIcon = document.getElementById('volume-icon');
      const volumeSliderContainer = document.getElementById('volume-slider-container');
      const volumeSlider = document.getElementById('volume-slider');
      const volumePercentage = document.getElementById('volume-percentage');

      function updateVolumeIcon() {
        if (masterVolume === 0) {
          volumeIcon.innerHTML = '<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>';
          volumeBtn.classList.add('muted');
        } else if (masterVolume < 30) {
          volumeIcon.innerHTML = '<path d="M7 9v6h4l5 5V4l-5 5H7z"/>';
          volumeBtn.classList.remove('muted');
        } else if (masterVolume < 70) {
          volumeIcon.innerHTML = '<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>';
          volumeBtn.classList.remove('muted');
        } else {
          volumeIcon.innerHTML = '<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>';
          volumeBtn.classList.remove('muted');
        }
      }

      function updateVolumeDisplay() {
        volumeSlider.value = masterVolume;
        volumePercentage.textContent = `${masterVolume}%`;
        updateVolumeIcon();
        
        // Save volume level to localStorage
        try {
          localStorage.setItem('sound-level', masterVolume);
        } catch (error) {
          console.warn('Failed to save volume level to localStorage:', error);
        }
      }

      // Volume slider change
      volumeSlider.addEventListener('input', async (e) => {
        masterVolume = parseInt(e.target.value);
        updateVolumeDisplay();
        
        // Initialize audio context and load sounds when user first adjusts volume
        if (!audioContext) {
          initAudioContext();
          await loadSound('welcomeClick', 'assets/0110000101110101011001000110100101101111/FUI Ping Simple High.wav');
        }
      });

      // Volume button interaction - support both click and touch
      const handleVolumeButtonInteraction = async (e) => {
        e.stopPropagation();
        e.preventDefault(); // Prevent double-firing on mobile
        volumeSliderContainer.classList.toggle('show');
        
        // Initialize audio context when user opens volume control
        if (!audioContext) {
          initAudioContext();
          await loadSound('welcomeClick', 'assets/0110000101110101011001000110100101101111/FUI Ping Simple High.wav');
        }
      };

      volumeBtn.addEventListener('click', handleVolumeButtonInteraction);
      volumeBtn.addEventListener('touchend', handleVolumeButtonInteraction);

      // Close volume slider when clicking/touching outside
      const closeVolumeSlider = (e) => {
        if (!document.getElementById('volume-control').contains(e.target)) {
          volumeSliderContainer.classList.remove('show');
        }
      };

      document.addEventListener('click', closeVolumeSlider);
      document.addEventListener('touchend', closeVolumeSlider);

      // Initialize volume display
      updateVolumeDisplay();

      // If volume is loaded from localStorage and > 0, prepare audio system for immediate use
      let audioReadyForImmediate = false;
      if (masterVolume > 0) {
        // Set flag to initialize audio on first interaction
        audioReadyForImmediate = true;
      }

      // Load sounds on first user interaction (fallback)
      const initAudioOnInteraction = async () => {
        if (!audioContext) {
          initAudioContext();
          // Load all sound files
          await Promise.all([
            loadSound('welcomeClick', 'assets/0110000101110101011001000110100101101111/FUI Ping Simple High.wav'),
            loadSound('alienOpen', 'assets/0110000101110101011001000110100101101111/Alien Interface Open-1.wav'),
            loadSound('alienClose', 'assets/0110000101110101011001000110100101101111/Alien Interface Close-1.wav'),
            loadSound('gadgetOpen', 'assets/0110000101110101011001000110100101101111/Small High-Tech Gadget Open.wav'),
            loadSound('gadgetClose', 'assets/0110000101110101011001000110100101101111/Small High-Tech Gadget Close.wav'),
            loadSound('faqOpen', 'assets/0110000101110101011001000110100101101111/Micro Clicks Motion.wav'),
            loadSound('faqClose', 'assets/0110000101110101011001000110100101101111/Micro Mechanism Extend Short.wav'),
            loadSound('holographicOpen', 'assets/0110000101110101011001000110100101101111/Holographic Open Panel.wav')
          ]);
          audioReadyForImmediate = false; // Audio is now ready
        }
      };

      // Support both click and touch events for mobile
      document.addEventListener('click', initAudioOnInteraction, { once: true });
      document.addEventListener('touchstart', initAudioOnInteraction, { once: true });
      document.addEventListener('touchend', initAudioOnInteraction, { once: true });

      // Expose audio functions globally
      window.audioManager = {
        playSound: async (name, volume) => await playSound(name, volume),
        loadSound,
        setVolume: (vol) => {
          masterVolume = Math.max(0, Math.min(100, vol));
          updateVolumeDisplay();
        },
        getVolume: () => masterVolume,
        testSound: async () => {
          if (!audioContext) {
            initAudioContext();
            await loadSound('welcomeClick', 'assets/0110000101110101011001000110100101101111/FUI Ping Simple High.wav');
          }
          await playSound('welcomeClick');
        },
        getSoundStatus: () => ({
          audioContext: !!audioContext,
          soundLoaded: !!sounds.welcomeClick,
          volume: masterVolume,
          sounds: Object.keys(sounds)
        })
      };
    })();

    // Collapsible cards (all)
    (() => {
      const cards = document.querySelectorAll('#games .card');
      cards.forEach((card, index) => {
        const collapsibleContent = card.querySelector('.collapsible');
        if (!collapsibleContent) return;

        // prevent toggling when clicking links/buttons inside
        card.querySelectorAll('.no-toggle, .no-toggle *')
            .forEach(el => el.addEventListener('click', e => e.stopPropagation()));

        function toggleCard(shouldExpand) {
          // Only affect this specific card - let CSS handle the animation
          card.setAttribute('aria-expanded', shouldExpand ? 'true' : 'false');
          
          // Also add/remove a class for additional specificity
          if (shouldExpand) {
            card.classList.add('expanded');
          } else {
            card.classList.remove('expanded');
          }
        }

        card.addEventListener('click', async (e) => {
          // Prevent event bubbling
          e.stopPropagation();
          
          // Only toggle this specific card
          const isCurrentlyExpanded = card.getAttribute('aria-expanded') === 'true';
          const willExpand = !isCurrentlyExpanded;
          
          // Play appropriate sound effect
          if (window.audioManager) {
            if (willExpand) {
              await window.audioManager.playSound('gadgetOpen');
            } else {
              await window.audioManager.playSound('gadgetClose');
            }
          }
          
          toggleCard(willExpand);
        });

        card.addEventListener('keydown', async (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            e.stopPropagation();
            
            // Only toggle this specific card
            const isCurrentlyExpanded = card.getAttribute('aria-expanded') === 'true';
            const willExpand = !isCurrentlyExpanded;
            
            // Play appropriate sound effect
            if (window.audioManager) {
              if (willExpand) {
                await window.audioManager.playSound('gadgetOpen');
              } else {
                await window.audioManager.playSound('gadgetClose');
              }
            }
            
            toggleCard(willExpand);
          }
        });
      });
    })();


    // Expand All Button
    (() => {
      const expandAllBtn = document.getElementById('expand-all-btn');
      const gameCards = document.querySelectorAll('#games .card');
      
      if (!expandAllBtn || !gameCards.length) return;
      
      let allExpanded = false;
      
      const updateButtonText = () => {
        const expandedCards = document.querySelectorAll('#games .card[aria-expanded="true"]');
        allExpanded = expandedCards.length === gameCards.length;
        
        // Update button text based on current state
        if (allExpanded) {
          expandAllBtn.setAttribute('data-translate', 'games.collapse_all');
          expandAllBtn.textContent = 'Collapse All';
        } else {
          expandAllBtn.setAttribute('data-translate', 'games.expand_all');
          expandAllBtn.textContent = 'Expand All';
        }
      };
      
      expandAllBtn.addEventListener('click', async () => {
        const shouldExpand = !allExpanded;
        
        // Play appropriate sound effect
        if (window.audioManager) {
          if (shouldExpand) {
            await window.audioManager.playSound('alienOpen');
          } else {
            await window.audioManager.playSound('alienClose');
          }
        }
        
        gameCards.forEach(card => {
          card.setAttribute('aria-expanded', shouldExpand);
          if (shouldExpand) {
            card.classList.add('expanded');
          } else {
            card.classList.remove('expanded');
          }
        });
        
        updateButtonText();
      });
      
      // Listen for individual card changes to update button state
      gameCards.forEach(card => {
        const observer = new MutationObserver(updateButtonText);
        observer.observe(card, { attributes: true, attributeFilter: ['aria-expanded'] });
      });
      
      // Initial button state
      updateButtonText();
    })();

    // Welcome Message
    (() => {
      const welcomeElement = document.getElementById('welcome-element');
      const welcomeTrigger = document.getElementById('welcome-trigger');
      const welcomeMessage = document.getElementById('welcome-message');
      let isMessageVisible = false;
      let fadeTimeout;

      function startFadeTimeout() {
        clearFadeTimeout();
        fadeTimeout = setTimeout(() => {
          if (!isMessageVisible) {
            welcomeTrigger.classList.add('faded');
          }
        }, 3000);
      }

      function clearFadeTimeout() {
        if (fadeTimeout) {
          clearTimeout(fadeTimeout);
          fadeTimeout = null;
        }
        welcomeTrigger.classList.remove('faded');
      }

      function toggleWelcomeMessage() {
        isMessageVisible = !isMessageVisible;
        
        if (isMessageVisible) {
          welcomeElement.classList.add('show');
          clearFadeTimeout();
        } else {
          welcomeElement.classList.remove('show');
          startFadeTimeout();
        }
      }

      function hideWelcomeMessage() {
        if (isMessageVisible) {
          isMessageVisible = false;
          welcomeElement.classList.remove('show');
          startFadeTimeout();
        }
      }

      // Toggle message on trigger interaction (click and touch)
      const handleWelcomeTrigger = async (e) => {
        e.stopPropagation();
        e.preventDefault(); // Prevent double-firing on mobile
        toggleWelcomeMessage();
        
        // Play welcome click sound (auto-initializes audio if needed)
         if (window.audioManager) {
           await window.audioManager.playSound('welcomeClick');
         }
      };

      welcomeTrigger.addEventListener('click', handleWelcomeTrigger);
      welcomeTrigger.addEventListener('touchend', handleWelcomeTrigger);

      // Hide message when clicking outside
      document.addEventListener('click', (e) => {
        if (!welcomeElement.contains(e.target)) {
          hideWelcomeMessage();
        }
      });

      // Hide message on escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          hideWelcomeMessage();
        }
      });

      // Handle keyboard navigation for accessibility
      welcomeTrigger.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          toggleWelcomeMessage();
        }
      });

      // Reset fade on hover
      welcomeTrigger.addEventListener('mouseenter', clearFadeTimeout);
      welcomeTrigger.addEventListener('mouseleave', () => {
        if (!isMessageVisible) {
          startFadeTimeout();
        }
      });

      // Start initial fade timeout
      startFadeTimeout();
    })();

    // Hamburger menu
    (() => {
      const hamburger = document.getElementById('hamburger');
      const panel = document.getElementById('menu-panel');
      
      hamburger.addEventListener('click', async () => {
        const isOpen = hamburger.getAttribute('aria-expanded') === 'true';
        
        // Play sound effect when opening menu
        if (window.audioManager && !isOpen) {
          await window.audioManager.playSound('holographicOpen');
        }
        
        hamburger.setAttribute('aria-expanded', !isOpen);
        panel.classList.toggle('open', !isOpen);
      });

      // Close menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!hamburger.contains(e.target) && !panel.contains(e.target)) {
          hamburger.setAttribute('aria-expanded', 'false');
          panel.classList.remove('open');
        }
      });

      // Close menu when pressing escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          hamburger.setAttribute('aria-expanded', 'false');
          panel.classList.remove('open');
        }
      });
    })();

    // Back to top button
    (() => {
      const backToTop = document.getElementById('back-to-top');
      
      const toggleVisibility = () => {
        if (window.scrollY > 300) {
          backToTop.classList.add('show');
        } else {
          backToTop.classList.remove('show');
        }
      };

      window.addEventListener('scroll', toggleVisibility, { passive: true });
      
      backToTop.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    })();

    // Language switching functionality
    (() => {
      const languageSelector = document.querySelector('#language-selector');
      const languageButton = document.querySelector('#language-btn');
      const languageOptions = document.querySelector('#language-dropdown');
      const languageItems = document.querySelectorAll('.language-option');
      
      // Check if all elements exist
      if (!languageSelector || !languageButton || !languageOptions) {
        console.error('Language selector elements not found');
        return;
      }
      
      // Get current language from localStorage or default to 'en'
      let currentLanguage = localStorage.getItem('selectedLanguage') || 'en';
      
      // Function to update all translatable elements
      const updateTranslations = (lang) => {
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
          const key = element.getAttribute('data-translate');
          if (translations[lang] && translations[lang][key]) {
            // Special handling for Spotify widget - only update if showing "Not playing" text
            if (key === 'spotify.not_playing') {
              // Check if the element currently shows a "Not playing" translation in any language
              const isShowingNotPlaying = Object.values(translations).some(langTranslations => 
                langTranslations['spotify.not_playing'] === element.textContent
              );
              // Only update if it's currently showing "Not playing" text
              if (isShowingNotPlaying) {
                element.innerHTML = translations[lang][key];
              }
            } else {
              element.innerHTML = translations[lang][key];
            }
          }
        });
      };
      
      // Function to update the language button display
      const updateLanguageButton = (lang) => {
        const flagMap = {
          'en': '🇺🇸',
          'nl': '🇳🇱', 
          'de': '🇩🇪',
          'it': '🇮🇹',
          'es': '🇪🇸',
          'ja': '🇯🇵'
        };
        
        const langMap = {
          'en': 'EN',
          'nl': 'NL',
          'de': 'DE', 
          'it': 'IT',
          'es': 'ES',
          'ja': 'JA'
        };
        
        languageButton.innerHTML = `${flagMap[lang]} ${langMap[lang]} <span class="dropdown-arrow">▼</span>`;
        
        // Update active state in dropdown
        languageItems.forEach(item => {
          item.classList.toggle('active', item.dataset.lang === lang);
        });
      };
      
      // Function to change language
      const changeLanguage = (lang) => {
        if (translations[lang]) {
          currentLanguage = lang;
          localStorage.setItem('selectedLanguage', lang);
          updateTranslations(lang);
          updateLanguageButton(lang);
          
          // Close dropdown
          languageOptions.classList.remove('show');
          languageButton.setAttribute('aria-expanded', 'false');
        }
      };
      
      // Initialize with current language
      updateTranslations(currentLanguage);
      updateLanguageButton(currentLanguage);
      
      // Toggle dropdown
      languageButton.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        console.log('Language button clicked');
        
        // Visual test - change button background temporarily
        languageButton.style.backgroundColor = 'red';
        setTimeout(() => {
          languageButton.style.backgroundColor = '';
        }, 500);
        
        const isOpen = languageOptions.classList.contains('show');
        console.log('Dropdown is currently open:', isOpen);
        languageOptions.classList.toggle('show');
        console.log('Dropdown classes after toggle:', languageOptions.className);
        languageButton.setAttribute('aria-expanded', !isOpen);
      });
      
      // Handle language selection
      languageItems.forEach(item => {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          const selectedLang = item.dataset.lang;
          changeLanguage(selectedLang);
        });
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!languageSelector.contains(e.target)) {
          languageOptions.classList.remove('show');
          languageButton.setAttribute('aria-expanded', 'false');
        }
      });
      
      // Close dropdown on escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && languageOptions.classList.contains('show')) {
          languageOptions.classList.remove('show');
          languageButton.setAttribute('aria-expanded', 'false');
        }
      });
      
      // Handle keyboard navigation in dropdown
      languageButton.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          languageButton.click();
        }
      });
      
      languageItems.forEach((item, index) => {
        item.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            item.click();
          } else if (e.key === 'ArrowDown') {
            e.preventDefault();
            const nextItem = languageItems[index + 1] || languageItems[0];
            nextItem.focus();
          } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            const prevItem = languageItems[index - 1] || languageItems[languageItems.length - 1];
            prevItem.focus();
          }
        });
      });
    })();

    // Function to check if text overflows and add scrollable class
    function checkTextOverflow(element) {
      if (!element || !element.textContent.trim()) {
        element?.classList.remove('scrollable');
        element?.style.removeProperty('--scroll-distance');
        element?.removeAttribute('data-full-text');
        return;
      }
      
      // Store the full text content
      const fullText = element.textContent;
      
      // Temporarily remove scrollable class to get accurate measurements
      element.classList.remove('scrollable');
      
      // Check if text overflows
      const isOverflowing = element.scrollWidth > element.clientWidth;
      
      if (isOverflowing) {
        // Store full text for the pseudo-element
        element.setAttribute('data-full-text', fullText);
        
        // Create a temporary element to measure the full text width
        const tempElement = document.createElement('span');
        tempElement.style.visibility = 'hidden';
        tempElement.style.position = 'absolute';
        tempElement.style.whiteSpace = 'nowrap';
        tempElement.style.font = window.getComputedStyle(element).font;
        tempElement.textContent = fullText;
        document.body.appendChild(tempElement);
        
        const fullTextWidth = tempElement.offsetWidth;
        document.body.removeChild(tempElement);
        
        // Calculate how far to scroll to show the hidden text
        const scrollDistance = element.clientWidth - fullTextWidth;
        element.style.setProperty('--scroll-distance', scrollDistance + 'px');
        element.classList.add('scrollable');
      } else {
        element.style.removeProperty('--scroll-distance');
        element.removeAttribute('data-full-text');
      }
    }

    // Spotify Now Playing
    (() => {
      const API = 'https://now-playing-api-one.vercel.app/api/now-playing';
      
      // Desktop elements
      const art = document.getElementById('np-art');
      const title = document.getElementById('np-title');
      const artist = document.getElementById('np-artist');
      const link = document.getElementById('np-link');
      
      // Mobile elements
      const artMobile = document.getElementById('np-art-mobile');
      const titleMobile = document.getElementById('np-title-mobile');
      const artistMobile = document.getElementById('np-artist-mobile');
      const linkMobile = document.getElementById('np-link-mobile');

      async function refresh() {
        try {
          const r = await fetch(API, { cache: 'no-store', mode: 'cors', credentials: 'omit' });
          const data = await r.json();

          if (!data.isPlaying) {
            // Desktop
            title.textContent = translations[currentLanguage]['spotify.not_playing'] || "Not playing";
            artist.textContent = "";
            link.style.display = "none";
            art.style.backgroundImage = "";
            
            // Mobile
            titleMobile.textContent = translations[currentLanguage]['spotify.not_playing'] || "Not playing";
            artistMobile.textContent = "";
            linkMobile.style.display = "none";
            artMobile.style.backgroundImage = "";
            
            // Remove scrollable class when not playing
            title.classList.remove('scrollable');
            artist.classList.remove('scrollable');
            titleMobile.classList.remove('scrollable');
            artistMobile.classList.remove('scrollable');
            return;
          }

          const trackName = data.name || "Unknown track";
          const trackArtists = data.artists || "";
          const trackUrl = data.url || "#";
          const albumArt = data.albumArt;

          // Desktop
          title.textContent = trackName;
          artist.textContent = trackArtists;
          link.href = trackUrl;
          link.style.display = trackUrl !== "#" ? "inline-block" : "none";
          art.style.backgroundImage = albumArt ? `url(${albumArt})` : "";
          art.style.backgroundSize = "cover";
          art.style.backgroundPosition = "center";
          
          // Mobile
          titleMobile.textContent = trackName;
          artistMobile.textContent = trackArtists;
          linkMobile.href = trackUrl;
          linkMobile.style.display = trackUrl !== "#" ? "inline-block" : "none";
          artMobile.style.backgroundImage = albumArt ? `url(${albumArt})` : "";
          artMobile.style.backgroundSize = "cover";
          artMobile.style.backgroundPosition = "center";
          
          // Check for text overflow and add scrollable class
          checkTextOverflow(title);
          checkTextOverflow(artist);
          checkTextOverflow(titleMobile);
          checkTextOverflow(artistMobile);
        } catch (e) {
          // swallow errors; keep last state
          console.log('Spotify API error:', e);
        }
      }

      refresh();
      setInterval(refresh, 30000); // Refresh every 30 seconds
    })();

    // Contact Form
    (() => {
      const form = document.getElementById('contact-form');
      const statusDiv = document.getElementById('form-status');
      
      if (!form) return;
      
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const formData = new FormData(form);
        const data = {
          name: formData.get('name'),
          email: formData.get('email'),
          subject: formData.get('subject'),
          message: formData.get('message')
        };
        
        // Show loading state
        const submitBtn = form.querySelector('button[type="submit"]');
        const originalText = submitBtn.textContent;
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
        statusDiv.style.display = 'none';
        
        try {
          // Create mailto link with form data
          const emailBody = `Name: ${data.name}\nEmail: ${data.email}\n\nMessage:\n${data.message}`;
          const mailtoLink = `mailto:contact@beniah.games?subject=${encodeURIComponent(data.subject)}&body=${encodeURIComponent(emailBody)}`;
          
          // Open email client
          window.location.href = mailtoLink;
          
          // Show success message
          statusDiv.className = 'form-status success';
          statusDiv.textContent = 'Email client opened! Please send the email to complete your message.';
          statusDiv.style.display = 'block';
          
          // Reset form
          form.reset();
          
        } catch (error) {
          // Show error message
          statusDiv.className = 'form-status error';
          statusDiv.textContent = 'Sorry, there was an error. Please try again or contact us directly.';
          statusDiv.style.display = 'block';
        }
        
        // Reset button
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
      });
    })();

    // FAQ Expand All Button
    (() => {
      const expandAllFaqBtn = document.getElementById('expand-all-faq-btn');
      const faqDetails = document.querySelectorAll('#faq .faq details');
      
      if (!expandAllFaqBtn || !faqDetails.length) return;
      
      let allExpanded = false;
      let isExpandingAll = false; // Flag to prevent individual sounds during expand all
      
      const updateButtonText = () => {
        const openDetails = document.querySelectorAll('#faq .faq details[open]');
        allExpanded = openDetails.length === faqDetails.length;
        
        // Update button text based on current state
        if (allExpanded) {
          expandAllFaqBtn.setAttribute('data-translate', 'faq.collapse_all');
          expandAllFaqBtn.textContent = 'Collapse All';
        } else {
          expandAllFaqBtn.setAttribute('data-translate', 'faq.expand_all');
          expandAllFaqBtn.textContent = 'Expand All';
        }
      };
      
      expandAllFaqBtn.addEventListener('click', async () => {
        const shouldExpand = !allExpanded;
        
        // Set flag to prevent individual sounds
        isExpandingAll = true;
        
        // Play appropriate sound effect
        if (window.audioManager) {
          if (shouldExpand) {
            await window.audioManager.playSound('alienOpen');
          } else {
            await window.audioManager.playSound('alienClose');
          }
        }
        
        faqDetails.forEach(details => {
          if (shouldExpand) {
            details.setAttribute('open', '');
          } else {
            details.removeAttribute('open');
          }
        });
        
        updateButtonText();
        
        // Reset flag after a short delay to allow all toggle events to process
        setTimeout(() => {
          isExpandingAll = false;
        }, 100);
      });
      
      // Listen for individual details changes to update button state
      faqDetails.forEach(details => {
        const observer = new MutationObserver(updateButtonText);
        observer.observe(details, { attributes: true, attributeFilter: ['open'] });
        
        // Add sound effects for FAQ toggle
        details.addEventListener('toggle', async () => {
          // Don't play individual sounds when expanding/collapsing all
          if (isExpandingAll) return;
          
          if (window.audioManager) {
            if (details.open) {
              await window.audioManager.playSound('faqOpen');
            } else {
              await window.audioManager.playSound('faqClose');
            }
          }
        });
      });
      
      // Initial button state
      updateButtonText();
    })();

    // Load latest devlog for main page
    async function loadLatestDevlog() {
      const container = document.getElementById('latest-devlog-container');
      if (!container) return;

      try {
        const response = await fetch('./devlogs/devlogs.json?v=' + Date.now());
        const data = await response.json();
        
        if (!data.devlogs || data.devlogs.length === 0) {
          container.innerHTML = `<p data-translate="devlog.no_entries">No devlog entries available yet.</p>`;
          return;
        }

        // Sort by date (newest first) and get the latest
        const sortedDevlogs = data.devlogs.sort((a, b) => new Date(b.date) - new Date(a.date));
        const latest = sortedDevlogs[0];

        // Create preview card
        const gameInfo = data.games[latest.game] || { name: latest.game, description: 'Game development updates' };
        
        container.innerHTML = `
          <div class="devlog-card-preview">
            <div class="devlog-meta">
              <span class="devlog-game">${gameInfo.name}</span>
              <span class="devlog-date">${new Date(latest.date).toLocaleDateString()}</span>
            </div>
            <h3 class="devlog-title">${latest.title}</h3>
            <p class="devlog-excerpt">${latest.excerpt}</p>
            <a href="./devlogs/${latest.id}.html" class="devlog-read-more">Read More →</a>
          </div>
        `;
      } catch (error) {
        console.error('Failed to load latest devlog:', error);
        container.innerHTML = `<p data-translate="devlog.no_entries">No devlog entries available yet.</p>`;
      }
    }

    // Load latest devlog when page loads
    document.addEventListener('DOMContentLoaded', loadLatestDevlog);

    // Tab switching functionality for auth modal
    function showForm(formType) {
      // Hide all form containers
      document.querySelectorAll('.form-container').forEach(container => {
        container.classList.remove('active');
      });
      
      // Remove active class from all tabs
      document.querySelectorAll('.tab-btn').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show the selected form and activate the corresponding tab
      if (formType === 'login') {
        document.getElementById('login-form-container').classList.add('active');
        document.getElementById('login-tab').classList.add('active');
      } else if (formType === 'signup') {
        document.getElementById('signup-form-container').classList.add('active');
        document.getElementById('signup-tab').classList.add('active');
      }
    }

    // Initialize Supabase and modal functionality when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize Supabase
      const supabaseUrl = 'https://nqhejsnfwfcilktnyqbi.supabase.co';
      const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5xaGVqc25md2ZjaWxrdG55cWJpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzODQ3NzAsImV4cCI6MjA3Mzk2MDc3MH0.8ngjb28rPVPCj4SnLtLSeUFbeAoFsrcQlZXpq2D19Ag';
      const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

      // Username and Profile Functions
      async function checkUsername(name) { 
        const { data, error } = await supabase.rpc('is_username_available', { p_username: name }); 
        if (error) { console.error(error); return false; } 
        return data === true; 
      }

      function generateRandomUsername() {
        const adjectives = ['Cool', 'Swift', 'Brave', 'Clever', 'Mighty', 'Silent', 'Golden', 'Silver', 'Cosmic', 'Mystic'];
        const nouns = ['Gamer', 'Player', 'Hero', 'Warrior', 'Explorer', 'Champion', 'Legend', 'Master', 'Ninja', 'Phoenix'];
        const randomNum = Math.floor(Math.random() * 1000);
        
        const adjective = adjectives[Math.floor(Math.random() * adjectives.length)];
        const noun = nouns[Math.floor(Math.random() * nouns.length)];
        
        return `${adjective}${noun}${randomNum}`;
      }

      async function signUpWithUsername({ email, password }) { 
        // 1) Sign up 
        const { data, error } = await supabase.auth.signUp({ email, password }); 
        if (error) throw error; 
      
        // Depending on your project settings, session may be null (email confirmation required) 
        const user = data.user; 
        const session = data.session; 
      
        // 2) If no session yet, sign in to get auth so RLS permits the write 
        if (!session) { 
          const { error: signInErr } = await supabase.auth.signInWithPassword({ email, password }); 
          if (signInErr) { 
            // Fall back: show your "Account created successfully, but username could not be saved" message 
            return { partial: true, reason: 'no_session_yet' }; 
          } 
        } 
      
        // 3) Generate a random username and ensure it's unique
        let username = generateRandomUsername();
        let attempts = 0;
        const maxAttempts = 10;
        
        while (attempts < maxAttempts) {
          const isAvailable = await checkUsername(username);
          if (isAvailable) {
            break;
          }
          username = generateRandomUsername();
          attempts++;
        }
        
        if (attempts >= maxAttempts) {
          // If we can't find a unique username after 10 attempts, use timestamp
          username = `User${Date.now()}`;
        }
      
        // 4) Upsert profile row with correct PK = auth user id 
        const { data: userData } = await supabase.auth.getUser(); 
        const uid = userData?.user?.id; 
        if (!uid) return { partial: true, reason: 'no_uid' }; 
      
        const { error: upsertErr } = await supabase 
          .from('profiles') 
          .upsert({ id: uid, username, display_name: username }, { onConflict: 'id' }); 
      
        if (upsertErr) { 
          // Handle duplicate username gracefully 
          if (upsertErr.code === '23505') { 
            return { partial: true, reason: 'username_taken' }; 
          } 
          // Other errors: RLS or network 
          return { partial: true, reason: upsertErr.message }; 
        } 
      
        return { partial: false, username }; 
      }

      async function saveUsername(username) {
        // Must be signed in
        const { data: { user }, error: authErr } = await supabase.auth.getUser();
        if (authErr || !user) throw new Error('Not signed in');

        // Check if user already has this username (allow updating to same username)
        const currentProfile = await loadProfile().catch(() => null);
        if (currentProfile && currentProfile.display_name && 
            currentProfile.display_name.toLowerCase() === username.toLowerCase()) {
          // User is updating to the same username, allow it
          console.log('Username unchanged, skipping uniqueness check');
        } else {
          // Check if username is available
          const isAvailable = await checkUsername(username);
          if (!isAvailable) {
            throw new Error('Username is already taken. Please choose a different one.');
          }
        }

        const { data, error } = await supabase
          .from('profiles')
          .upsert(
            { id: user.id, display_name: username, username: username },  // id is REQUIRED
            { onConflict: 'id' }                      // ensure upsert uses PK
          )
          .select()
          .single();

        if (error) {
          console.error('Save username error:', error);
          throw error;
        }
        return data;
      }

      // Test function for username functionality
      async function testUsernameFunctionality() {
        console.log('Testing username functionality...');
        
        try {
          // Test username availability check
          console.log('Testing username availability check...');
          const testUsername = 'test_user_' + Date.now();
          const isAvailable = await checkUsername(testUsername);
          console.log(`✅ Username availability check works: ${testUsername} is ${isAvailable ? 'available' : 'taken'}`);
          
          // Test if user is signed in
          const { data: { user } } = await supabase.auth.getUser();
          if (!user) {
            console.log('❌ No user signed in - cannot test profile functionality');
            console.log('✅ Username uniqueness functionality is working');
            return;
          }
          
          console.log('✅ User is signed in:', user.email);
          
          // Test loading profile
          try {
            const profile = await loadProfile();
            console.log('✅ Profile loaded successfully:', profile);
            
            if (profile.display_name) {
              console.log('✅ Username found in profile:', profile.display_name);
              
              // Test checking availability of current username
              const currentUsernameAvailable = await checkUsername(profile.display_name);
              console.log(`✅ Current username availability check: ${profile.display_name} is ${currentUsernameAvailable ? 'available' : 'taken (as expected)'}`);
            } else {
              console.log('⚠️ No username set in profile');
            }
          } catch (profileError) {
            console.log('❌ Failed to load profile:', profileError.message);
          }
          
          console.log('✅ All username functionality tests completed');
          
        } catch (error) {
          console.error('❌ Test failed:', error);
        }
      }

      // Make test function available globally for manual testing
      window.testUsernameFunctionality = testUsernameFunctionality;

      async function loadProfile() {
        const { data: { user } } = await supabase.auth.getUser();
        if (!user) throw new Error('Not signed in');

        const { data, error } = await supabase
          .from('profiles')
          .select('display_name, email, avatar_url, bio')
          .eq('id', user.id)
          .single(); // one row per user (id = auth.uid())
        
        if (error) {
          console.error('Load profile error:', error);
          throw error;
        }
        return data;
      }

      // Modal functionality
      const modal = document.getElementById('signup-modal');
      const signupLinks = document.querySelectorAll('a[href="#signup"]');
      const userIcon = document.getElementById('user-icon');
      const closeBtn = document.querySelector('.close');
      const signupForm = document.getElementById('signup-form');
      const messageDiv = document.getElementById('signup-message');

      // Function to open signup modal
      function openSignupModal() {
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden';
      }

      // Add event listeners for tab switching
      document.getElementById('login-tab').addEventListener('click', () => showForm('login'));
      document.getElementById('signup-tab').addEventListener('click', () => showForm('signup'));

      // Open modal when signup link is clicked
      signupLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          openSignupModal();
        });
      });

      // User icon click handler - shows dropdown if logged in, modal if not
      let isUserLoggedIn = false;
      
      userIcon.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        
        if (isUserLoggedIn) {
          // Toggle dropdown
          const dropdown = document.getElementById('user-icon-dropdown');
          const isVisible = dropdown.style.display === 'block';
          dropdown.style.display = isVisible ? 'none' : 'block';
        } else {
          // Open signup modal
          openSignupModal();
        }
      });

      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        const dropdown = document.getElementById('user-icon-dropdown');
        const container = document.querySelector('.user-icon-container');
        
        if (!container.contains(e.target)) {
          dropdown.style.display = 'none';
        }
      });

      // Logout functionality for user icon dropdown
      document.getElementById('user-icon-logout').addEventListener('click', async (e) => {
        e.preventDefault();
        
        try {
          const { error } = await supabase.auth.signOut();
          if (error) throw error;
          
          // Update UI
          isUserLoggedIn = false;
          document.getElementById('user-icon-dropdown').style.display = 'none';
          const signupLink = document.getElementById('signup-link');
          if (signupLink) signupLink.style.display = 'inline-block';
          document.getElementById('user-menu').style.display = 'none';
          
          // Show success message
          showMessage('Logged out successfully!', 'success');
          
        } catch (error) {
          console.error('Logout error:', error);
          showMessage('Error logging out. Please try again.', 'error');
        }
      });

      // Close modal when X is clicked
      closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
      });

      // Close modal when clicking outside
      window.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.style.display = 'none';
          document.body.style.overflow = 'auto';
        }
      });



      // Form submission
      signupForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        console.log('Form submission started');
        
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        
        console.log('Form values:', { email, password: '***', confirmPassword: '***' });

        // Clear previous messages
        messageDiv.style.display = 'none';
        messageDiv.className = 'message';

        // Validation
        if (password !== confirmPassword) {
          showMessage('Passwords do not match!', 'error');
          return;
        }

        if (password.length < 6) {
          showMessage('Password must be at least 6 characters long!', 'error');
          return;
        }

        // Validate captcha
        console.log('Checking captcha...');
        if (typeof hcaptcha === 'undefined') {
          console.error('hCaptcha API not loaded');
          showMessage('Captcha service not available. Please refresh the page.', 'error');
          return;
        }
        const captchaResponse = hcaptcha.getResponse();
        console.log('Captcha response:', captchaResponse);
        if (!captchaResponse) {
          console.log('Captcha validation failed');
          showMessage(translations[currentLanguage]['signup.captcha_required'], 'error');
          return;
        }
        console.log('Captcha validation passed');

        try {
          // Use the new signUpWithUsername function
          const result = await signUpWithUsername({ email, password });

          if (result.partial) {
            // Handle partial signup scenarios
            let message = '';
            let messageType = 'warning';
            
            switch (result.reason) {
              case 'no_session_yet':
                message = 'Account created successfully, but username could not be saved due to email verification requirement. You can set it later in your profile.';
                break;
              case 'no_uid':
                message = 'Account created successfully, but username could not be saved due to authentication issue. You can set it later in your profile.';
                break;
              case 'username_taken':
                message = 'Account created successfully, but the username was taken by another user. Please choose a different username in your profile.';
                break;
              default:
                message = `Account created successfully, but username could not be saved: ${result.reason}. You can set it later in your profile.`;
                break;
            }
            
            showMessage(message, messageType);
            signupForm.reset();
            hcaptcha.reset();
            
            setTimeout(() => {
              modal.style.display = 'none';
              document.body.style.overflow = 'auto';
            }, 4000);
            return;
          }

          // Full success
          showMessage('Registration successful! Please check your email to verify your account.', 'success');
          signupForm.reset();
          hcaptcha.reset();
          
          // Close modal after 3 seconds
          setTimeout(() => {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
          }, 3000);

        } catch (error) {
          console.error('Registration error:', error);
          showMessage(error.message || 'Registration failed. Please try again.', 'error');
        }
      });

      // Login form submission
      const loginForm = document.getElementById('login-form');
      const loginMessageDiv = document.getElementById('login-message');
      
      loginForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        console.log('Login form submission started');
        
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;
        
        console.log('Login values:', { email, password: '***' });
        
        // Clear previous messages
        loginMessageDiv.style.display = 'none';
        loginMessageDiv.className = 'message';
        
        try {
          // Sign in with email and password
          const { data, error } = await supabase.auth.signInWithPassword({
            email: email,
            password: password
          });

          if (error) {
            throw error;
          }

          showLoginMessage('Login successful! Welcome back.', 'success');
          loginForm.reset();
          
          // Close modal after 2 seconds
          setTimeout(() => {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            // Redirect to profile page
            window.location.href = '/user/';
          }, 2000);

        } catch (error) {
          console.error('Login error:', error);
          showLoginMessage('Invalid email or password.', 'error');
        }
      });
      
      function showLoginMessage(text, type) {
        loginMessageDiv.textContent = text;
        loginMessageDiv.className = `message ${type}`;
        loginMessageDiv.style.display = 'block';
      }

      function showMessage(text, type) {
        messageDiv.textContent = text;
        messageDiv.className = `message ${type}`;
        messageDiv.style.display = 'block';
      }

      // User authentication state handling
      async function checkAuthState() {
        try {
          const { data: { user }, error } = await supabase.auth.getUser();
          
          if (user) {
            // User is logged in
            isUserLoggedIn = true;
            const signupLink = document.getElementById('signup-link');
            if (signupLink) signupLink.style.display = 'none';
          } else {
            // User is not logged in
            isUserLoggedIn = false;
            const signupLink = document.getElementById('signup-link');
            if (signupLink) signupLink.style.display = 'inline-block';
            document.getElementById('user-icon-dropdown').style.display = 'none';
          }
        } catch (error) {
          console.error('Error checking auth state:', error);
          isUserLoggedIn = false;
        }
      }

      // Logout functionality
      document.getElementById('logout-btn').addEventListener('click', async (e) => {
        e.preventDefault();
        
        try {
          const { error } = await supabase.auth.signOut();
          if (error) throw error;
          
          // Update UI
          const signupLink = document.getElementById('signup-link');
          if (signupLink) signupLink.style.display = 'inline-block';
          document.getElementById('user-menu').style.display = 'none';
          
          // Show success message
          showMessage('Logged out successfully!', 'success');
          
        } catch (error) {
          console.error('Logout error:', error);
          showMessage('Error logging out. Please try again.', 'error');
        }
      });

      // Check auth state on page load
      checkAuthState();

      // Listen for auth state changes
      supabase.auth.onAuthStateChange((event, session) => {
        if (event === 'SIGNED_IN') {
          checkAuthState();
        } else if (event === 'SIGNED_OUT') {
          isUserLoggedIn = false;
          const signupLink = document.getElementById('signup-link');
          if (signupLink) signupLink.style.display = 'inline-block';
          document.getElementById('user-menu').style.display = 'none';
          document.getElementById('user-icon-dropdown').style.display = 'none';
        }
      });
    });

    // Epic Hero Particle Animation
    function createHeroParticles() {
      const particleContainer = document.getElementById('heroParticles');
      if (!particleContainer) return;

      const particleCount = 15;
      
      function createParticle() {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // Random starting position
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 8 + 's';
        particle.style.animationDuration = (8 + Math.random() * 4) + 's';
        
        particleContainer.appendChild(particle);
        
        // Remove particle after animation completes
        setTimeout(() => {
          if (particle.parentNode) {
            particle.parentNode.removeChild(particle);
          }
        }, 12000);
      }
      
      // Create initial particles
      for (let i = 0; i < particleCount; i++) {
        setTimeout(() => createParticle(), i * 500);
      }
      
      // Continuously create new particles
      setInterval(createParticle, 800);
    }

    // Enhanced typing effect
    function initTypingEffect() {
      const titleElement = document.querySelector('h1.typing-text');
      if (!titleElement) return;

      const text = titleElement.textContent;
      titleElement.textContent = '';
      titleElement.style.width = '0';
      
      setTimeout(() => {
        titleElement.textContent = text;
        titleElement.style.width = '100%';
      }, 1000);
    }

    // Initialize hero effects when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      createHeroParticles();
      initTypingEffect();
      
      // Add subtle mouse movement effect to hero
      const hero = document.querySelector('.hero');
      const heroTitle = document.querySelector('h1.glow');
      
      if (hero && heroTitle) {
        hero.addEventListener('mousemove', (e) => {
          const rect = hero.getBoundingClientRect();
          const x = (e.clientX - rect.left) / rect.width;
          const y = (e.clientY - rect.top) / rect.height;
          
          const moveX = (x - 0.5) * 10;
          const moveY = (y - 0.5) * 10;
          
          heroTitle.style.transform = `translate(${moveX}px, ${moveY}px)`;
        });
        
        hero.addEventListener('mouseleave', () => {
          heroTitle.style.transform = 'translate(0, 0)';
        });
      }
    });
  </script>

  <!-- User Authentication Modal -->
  <div id="signup-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      
      <!-- Tab Navigation -->
      <div class="auth-tabs">
        <button class="tab-btn active" id="login-tab" data-translate="login.title">Login</button>
        <button class="tab-btn" id="signup-tab" data-translate="signup.title">Sign Up</button>
      </div>
      
      <!-- Login Form -->
      <div id="login-form-container" class="form-container active">
        <form id="login-form">
          <div class="form-group">
            <label for="login-email" data-translate="login.email">Email:</label>
            <input type="email" id="login-email" name="email" required>
          </div>
          <div class="form-group">
            <label for="login-password" data-translate="login.password">Password:</label>
            <input type="password" id="login-password" name="password" required>
          </div>
          <button type="submit" data-translate="login.submit">Login</button>
          <div id="login-message" class="message"></div>
        </form>
      </div>
      
      <!-- Signup Form -->
      <div id="signup-form-container" class="form-container">
        <form id="signup-form">
          <div class="form-group">
            <label for="email" data-translate="signup.email">Email:</label>
            <input type="email" id="email" name="email" required>
          </div>
          <div class="form-group">
            <label for="password" data-translate="signup.password">Password:</label>
            <input type="password" id="password" name="password" required>
          </div>
          <div class="form-group">
            <label for="confirm-password" data-translate="signup.confirm_password">Confirm Password:</label>
            <input type="password" id="confirm-password" name="confirm-password" required>
          </div>
          <div class="captcha-container">
            <div class="h-captcha" data-sitekey="046c6cd4-135a-4bba-8fa6-30403bc05c96"></div>
          </div>
          <button type="submit" data-translate="signup.submit">Sign Up</button>
          <div id="signup-message" class="message"></div>
        </form>
      </div>
    </div>
  </div>


</body>
</html>
